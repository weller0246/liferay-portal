@component-name = "portal-content-dashboard"
definition {

	property portal.release = "true";
	property portal.upstream = "true";
	property testray.main.component.name = "Content Dashboard";

	setUp {
		TestCase.setUpPortalInstance();

		User.firstLoginPG();

		JSONGroup.addGroup(groupName = "Test Site Name");

		Navigator.openURL();

		JSONDocument.deleteFile(
			dmDocumentTitle = "tree.png",
			groupName = "Guest");
	}

	tearDown {
		var testPortalInstance = PropsUtil.get("test.portal.instance");

		if ("${testPortalInstance}" == "true") {
			PortalInstances.tearDownCP();
		}
		else {
			JSONGroup.deleteGroupByName(groupName = "Test Site Name");
		}

		for (var vocabulary : list "Topic,Audience,Stage") {
			JSONCategory.tearDownCategories(
				groupName = "Global",
				vocabularyName = "${vocabulary}");
		}

		JSONUser.tearDownNonAdminUsers();

		JSONRole.deleteTestRoles();
	}

	@description = "LPS-116987 When the user makes a change on web content and creates a draft version, the Info panel shows the version for the last version approved and the version of the draft "
	@priority = "5"
	test ApprovedAndDraftStatus {
		property portal.acceptance = "true";

		task ("Create a Web Content") {
			JSONWebcontent.addWebContent(
				content = "Webcontent Content",
				groupName = "Test Site Name",
				title = "WC Content");
		}

		task ("Navigate to the content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Edit the Web Content to draft version") {
			ContentDashboard.editAsset(
				assetNewTitle = "WC Content Edit",
				assetTitle = "WC Content",
				saveAsDraft = "true");
		}

		task ("Check for approved and draft versions") {
			AssertVisible(
				key_status = "Approved",
				locator1 = "WCEditWebContent#WORKFLOW_STATUS");

			AssertVisible(
				key_status = "Draft",
				locator1 = "WCEditWebContent#WORKFLOW_STATUS");
		}
	}

	@description = "LPS-120417 When there is web content published by a user different than the admin user and the admin user visit the Content Dashboard, the content is visible"
	@priority = "3"
	test AssetNotFilteredByMe {
		task ("Create an user via JSONWS") {
			JSONUser.addUser(
				userEmailAddress = "userea@liferay.com",
				userFirstName = "userfn",
				userLastName = "userln",
				userScreenName = "usersn");

			JSONUser.setFirstPassword(
				agreeToTermsAndAnswerReminderQuery = "true",
				requireReset = "false",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Assign site role to user") {
			JSONUser.addUserToSite(
				groupName = "Test Site Name",
				userEmailAddress = "userea@liferay.com");

			JSONRole.assignSiteRoleToUser(
				groupName = "Test Site Name",
				roleTitle = "Site Owner",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Create a web content with Test Test via JSONWS") {
			JSONWebcontent.addWebContent(
				content = "Web Content Content",
				groupName = "Test Site Name",
				title = "Web Content Title 1");
		}

		task ("Create a web content with created user") {
			User.logoutAndLoginPG(
				userLoginEmailAddress = "userea@liferay.com",
				userLoginFullName = "userfn userln");

			WebContentNavigator.openWebContentAdmin(siteURLKey = "test-site-name");

			WebContentNavigator.gotoAddCP();

			WebContent.addCP(
				webContentContent = "WC Content Content",
				webContentTitle = "Web Content Title 2");

			PortletEntry.publish();

			User.logoutAndLoginPG(
				userLoginEmailAddress = "test@liferay.com",
				userLoginFullName = "Test Test");
		}

		task ("Login with Admin user") {
			User.logoutAndLoginPG(
				userLoginEmailAddress = "test@liferay.com",
				userLoginFullName = "Test Test");
		}

		task ("Natigate to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Check that both web contents are displayed and no filter is applyed") {
			AssertTextEquals(
				key_tableEntry = "Web Content Title 1",
				locator1 = "LexiconTable#TABLE_ENTRY_TITLE",
				value1 = "Web Content Title 1");

			AssertTextEquals(
				key_tableEntry = "Web Content Title 2",
				locator1 = "LexiconTable#TABLE_ENTRY_TITLE",
				value1 = "Web Content Title 2");

			AssertElementNotPresent(locator1 = "ContentDashboard#FILTER_TEXT");
		}
	}

	@description = "LPS-122873 When all the web content is unassigned from a Vocab1's category, the relative ordering of the rest of the categories remain the same"
	@priority = "3"
	test AssigningSomeAudienceCategoriesAndCheckingTheOrder {
		task ("Create a list of Audience Categories") {
			var audienceId1 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Subaudience_1",
				vocabularyName = "Audience");
			var audienceId2 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Subaudience_2",
				vocabularyName = "Audience");
			var audienceId3 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Subaudience_3",
				vocabularyName = "Audience");
		}

		task ("Create a list of Stage Categories") {
			var stageId1 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Substage_1",
				vocabularyName = "Stage");
			var stageId2 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Substage_2",
				vocabularyName = "Stage");
			var stageId3 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Substage_3",
				vocabularyName = "Stage");
		}

		task ("Create a Web Content with the categories") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${audienceId1},${audienceId2},${audienceId3},${stageId1},${stageId2},${stageId3}",
				content = "Webcontent Content",
				groupName = "Test Site Name",
				title = "Webcontent Title");
		}

		task ("Navigate to content Dashboard and View the order of categories") {
			ContentDashboard.goToContentDashboard();

			task ("blue - first position") {
				AssertVisible(
					fillColor = "4B9FFF",
					locator1 = "ContentDashboard#BAR_FROM_NO_VOCABULARY_SPECIFIED");
			}

			task ("orange - second position") {
				AssertVisible(
					fillColor = "FFB46E",
					locator1 = "ContentDashboard#BAR_FROM_NO_VOCABULARY_SPECIFIED");
			}

			task ("red - third position") {
				AssertVisible(
					fillColor = "FF5F5F",
					locator1 = "ContentDashboard#BAR_FROM_NO_VOCABULARY_SPECIFIED");
			}
		}
	}

	@description = "LPS-162826: Add the Compare to Action to the Version History for Web Content"
	@priority = "3"
	test BackFromCompareToWebContent {
		property custom.properties = "feature.flag.LPS-162924=true";

		task ("Given the compare screen for Web Content") {
			task ("Create a Web Content") {
				JSONWebcontent.addWebContent(
					content = "Web Content Content",
					groupName = "Test Site Name",
					title = "Web Content Title");
			}

			task ("Create a version for that web content") {
				WebContentNavigator.openWebContentAdmin(siteURLKey = "test-site-name");

				WebContentNavigator.gotoEditCP(webContentTitle = "Web Content Title");

				WebContent.editCP(
					webContentContentEdit = "Web Content Content Edit",
					webContentTitleEdit = "Web Content Title Edit");
			}

			task ("Navigate to Content Dashboard") {
				ContentDashboard.goToContentDashboard();
			}

			task ("Open info panel sidebar") {
				LexiconTable.clickEllipsisItem(
					item = "Info",
					tableEntry = "Web Content Title Edit");
			}

			task ("Go to compare screen") {
				ContentDashboard.openVersionsTab();

				ContentDashboard.clickMenuOfVersion(
					item = "Compare to...",
					versionName = "Version 1.1");
			}
		}

		task ("When the user clicks on the back button") {
			Navigator.gotoBack();
		}

		task ("Then the document is selected and the Info Panel is open to the Versions tab") {
			AssertTextPresent(
				locator1 = "ContentDashboard#INFO_PANEL_TITLE",
				value1 = "Web Content Title Edit");

			AssertVisible(
				key_version = "Version 1.0",
				locator1 = "ContentDashboard#VERSION_ELLIPSIS");
		}
	}

	@description = "LPS-162823: Add the View Action to the Version History for Documents and Media"
	@priority = "3"
	test BackFromViewDocumentVersion {
		property custom.properties = "feature.flag.LPS-162924=true";

		task ("Given the version document page") {
			task ("Create a Document") {
				JSONDocument.addFileWithUploadedFile(
					dmDocumentDescription = "DM Document Description",
					dmDocumentTitle = "DM Document Title",
					groupName = "Test Site Name",
					mimeType = "text/plain",
					sourceFileName = "Document_1.txt");
			}

			task ("Navigate to Content Dashboard") {
				ContentDashboard.goToContentDashboard();
			}

			task ("Open info panel sidebar") {
				LexiconTable.clickEllipsisItem(
					item = "Info",
					tableEntry = "DM Document Title");
			}

			task ("Open versions tab") {
				ContentDashboard.openVersionsTab();
			}

			task ("Open view mode of a version") {
				ContentDashboard.clickMenuOfVersion(
					item = "View",
					versionName = "Version 1.0");
			}
		}

		task ("When the user clicks on the back button") {
			Navigator.gotoBack();
		}

		task ("Then the document is selected and the Info Panel is open to the Versions tab") {
			AssertVisible(locator1 = "ContentDashboard#INFO_PANEL");
		}
	}

	@description = "LPS-132510 Given The Content Dashboard
	When the info panel of a blog is open
	Then the blog author's avatar and name are shown"
	@priority = "3"
	test BlogAuthorInInfoPanel {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";

		task ("Create a blog") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("When the info panel of a blog is open") {
			ContentDashboard.goToContentDashboard();

			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "Blogs Entry Title");
		}

		task ("Then the blog author's avatar and name are shown") {
			AssertTextPresent(
				locator1 = "ContentDashboard#INFO_PANEL_AUTHOR",
				value1 = "Test Test");

			AssertVisible(locator1 = "ContentDashboard#INFO_PANEL_AVATAR");
		}
	}

	@description = "LPS-132510 Given The Content Dashboard
	When the info panel of a blog is open
	Then the list of categories assigned to the content will be divided between public and internal vocabularies"
	@priority = "3"
	test BlogCategoriesInInfoPanel {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";

		task ("Add an internal vocabulary for Test Site Name") {
			JSONCategory.addVocabulary(
				groupName = "Test Site Name",
				title = "Vocabulary Internal",
				visibility = "internal");
		}

		task ("Add a public vocabulary for Test Site Name") {
			JSONCategory.addVocabulary(
				groupName = "Test Site Name",
				title = "Vocabulary Public");
		}

		task ("Create a category for Vocabulary Internal") {
			var categoryId1 = JSONCategory.addCategory(
				groupName = "Test Site Name",
				title = "CategoryInternal",
				vocabularyName = "Vocabulary Internal");
		}

		task ("Create a category for Vocabulary Internal") {
			var categoryId2 = JSONCategory.addCategory(
				groupName = "Test Site Name",
				title = "CategoryPublic",
				vocabularyName = "Vocabulary Public");
		}

		task ("Create a blog") {
			JSONBlog.addEntry(
				assetCategoryIds = "${categoryId1},${categoryId2}",
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Go to Content Dashboard and check the title in the Info panel") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Go to Content Dashboard and check the vocabularies, public and internal, and their categories are shown in the Info panel") {
			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "Blogs Entry Title");

			AssertVisible(
				locator1 = "ContentDashboard#INFO_PANEL_VOCABULARY_NAME",
				vocabularyName = "Vocabulary Public");

			AssertVisible(
				categoryName = "CategoryPublic",
				locator1 = "ContentDashboard#CATEGORY_LABEL_INFO_PANEL");

			AssertVisible(
				locator1 = "ContentDashboard#INFO_PANEL_VOCABULARY_NAME",
				vocabularyName = "Vocabulary Internal");

			AssertVisible(
				categoryName = "CategoryInternal",
				locator1 = "ContentDashboard#CATEGORY_LABEL_INFO_PANEL");
		}
	}

	@description = "LPS-132510 Given The Content Dashboard
	When the info panel of a blog is open
	Then the Creation date of the blog is shown in the Details section"
	@priority = "3"
	test BlogCreationDateInInfoPanel {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";

		task ("Create a blog") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Go to Content Dashboard and check the title in the Info panel") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Go to Content Dashboard and check the Creation date in the Info panel") {
			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "Blogs Entry Title");

			Panel.expandPanel(panel = "Details");

			AssertVisible(
				locator1 = "ContentDashboard#INFO_PANEL_TYPE_OF_DATE",
				typeOfDate = "Creation Date");
		}
	}

	@description = "LPS-132510 Given The Content Dashboard
	When the info panel of a blog is open
	Then the Display date of the blog is shown in the Details section"
	@priority = "3"
	test BlogDisplayDateInInfoPanel {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";

		task ("Create a blog") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Go to Content Dashboard and check the title in the Info panel") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Go to Content Dashboard and check the Display date in the Info panel") {
			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "Blogs Entry Title");

			Panel.expandPanel(panel = "Details");

			AssertVisible(
				locator1 = "ContentDashboard#INFO_PANEL_TYPE_OF_DATE",
				typeOfDate = "Display Date");
		}
	}

	@description = "LPS-132510 Given The Content Dashboard
	When the info panel of a blog is open
	Then the ID of the blog is shown in the Details section"
	@priority = "3"
	test BlogIDDateInInfoPanel {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";

		task ("Create a blog") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Go to Content Dashboard and check the title in the Info panel") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Go to Content Dashboard and check the ID in the Info panel") {
			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "Blogs Entry Title");

			Panel.expandPanel(panel = "Details");

			AssertVisible(locator1 = "ContentDashboard#INFO_PANEL_ID");
		}
	}

	@description = "LPS-132510 Given The Content Dashboard
	When the info panel of a blog is open
	Then the Modification date of the blog is shown in the Details section"
	@priority = "3"
	test BlogModificationDateInInfoPanel {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";

		task ("Create a blog") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Go to Content Dashboard and check the title in the Info panel") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Go to Content Dashboard and check the Modified date in the Info panel") {
			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "Blogs Entry Title");

			Panel.expandPanel(panel = "Details");

			AssertVisible(
				locator1 = "ContentDashboard#INFO_PANEL_TYPE_OF_DATE",
				typeOfDate = "Modified Date");
		}
	}

	@description = "LPS-132509 Given a blog created in site A in the instance, and another one created in the site B
	When the user goes to the content dashboard
	Then the user can see both listed"
	@priority = "5"
	test BlogsFromDifferentSitesAreListed {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";
		property portal.acceptance = "true";

		task ("Create another site") {
			JSONGroup.addGroup(groupName = "Test Site Name 2");
		}

		task ("Create a blog in the first site") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content 1",
				entryTitle = "Blogs Entry Title 1",
				groupName = "Test Site Name");
		}

		task ("Create a blog in the first site") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content 2",
				entryTitle = "Blogs Entry Title 2",
				groupName = "Test Site Name 2");
		}

		task ("Go to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Check both blogs are listed") {
			ContentDashboard.filterBySite(siteName = "Test Site Name");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Blogs Entry Title 1");

			ContentDashboard.filterBySite(siteName = "Test Site Name 2");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Blogs Entry Title 2");
		}

		task ("Delete site created for this test") {
			JSONGroup.deleteGroupByName(groupName = "Test Site Name 2");
		}
	}

	@description = "LPS-119966 Given the Content Dashboard
	When a blog is listed in the assets list
	Then the following metadata are shown: Title, Author (Owner), Type, Site or Asset Library, Status, Category 1, Category 2, Modified Date"
	@priority = "3"
	test BlogsMetadata {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";

		task ("Create a category for Audiente and Staged") {
			JSONCategory.addCategory(
				groupName = "Global",
				title = "Category1",
				vocabularyName = "Audience");

			JSONCategory.addCategory(
				groupName = "Global",
				title = "Category2",
				vocabularyName = "Stage");
		}

		task ("Create a blog") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Go to Content Dashboard and check the title in the Info panel") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Assert columns displayed") {
			for (var columnHeader : list "Title,Author,Subtype,Site or Asset Library,Status,Audience,Stage,Modified Date") {
				AssertVisible(
					key_tableHeader = "${columnHeader}",
					locator1 = "LexiconTable#TABLE_HEADER");
			}
		}
	}

	@description = "LPS-132510 Given The Content Dashboard
	When the info panel of a blog is open
	Then the blog status label is shown"
	@priority = "3"
	test BlogStatusInInfoPanel {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";

		task ("Create a blog") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Go to Content Dashboard and check the title in the Info panel") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Go to Content Dashboard and check the status in the Info panel") {
			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "Blogs Entry Title");

			AssertVisible(
				assetStatus = "Approved",
				locator1 = "ContentDashboard#INFO_PANEL_STATUS");
		}
	}

	@description = "LPS-132510 Given The Content Dashboard
	When the info panel of a blog is open
	Then all the tags assigned to the blog appear as labels in the Tags section"
	@priority = "3"
	test BlogTagsInInfoPanel {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";

		task ("Create a blog with the tag") {
			JSONBlog.addEntry(
				assetTagNames = "tagname",
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Go to Content Dashboard and check the title in the Info panel") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Go to Content Dashboard and check the tags are shown in the Info panel") {
			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "Blogs Entry Title");

			AssertVisible(locator1 = "ContentDashboard#INFO_PANEL_TAGS_TITLE");

			AssertVisible(
				locator1 = "ContentDashboard#TAG_LABEL_INFO_PANEL",
				tagName = "tagname");
		}
	}

	@description = "LPS-132510 Given The Content Dashboard
    When the info panel of a blog is open
    Then the title of the blog is shown"
	@priority = "3"
	test BlogTitleInInfoPanel {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";

		task ("Create a blog") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Go to Content Dashboard and check the title in the Info panel") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Go to Content Dashboard and check the title in the Info panel") {
			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "Blogs Entry Title");

			AssertTextPresent(
				locator1 = "ContentDashboard#INFO_PANEL_TITLE",
				value1 = "Blogs Entry Title");
		}
	}

	@description = "LPS-151065 Given a Blog
    When the user opens asset's Info Panel at Content Dashboard
    Then 'Blogs Entry' text will be exhibit"
	@priority = "3"
	test BlogTypeInInfoPanel {
		task ("Create a blog") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Go to Content Dashboard and check the title in the Info panel") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Go to Content Dashboard and check the type in the Info panel") {
			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "Blogs Entry Title");

			AssertTextPresent(
				locator1 = "ContentDashboard#INFO_PANEL_ASSET_TYPE",
				value1 = "Blogs Entry");
		}
	}

	@description = "LPS-132510 Given The Content Dashboard
	When the info panel of a blog is open
	Then the blog version labels are shown"
	@priority = "3"
	test BlogVersionInInfoPanel {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";

		task ("Create a blog") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Go to Content Dashboard and check the title in the Info panel") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Go to Content Dashboard and check the version in the Info panel") {
			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "Blogs Entry Title");

			AssertElementPresent(
				assetVersion = "Version 1.0",
				locator1 = "ContentDashboard#INFO_PANEL_VERSION");
		}
	}

	@description = "LPS-114911 When the user selects vocabularies from the selection panel, vocabularies selected show in the table as headers and categories assigned to contents will show "
	@priority = "5"
	test CategorieShowInTable {
		property portal.acceptance = "true";

		task ("Adding vocabulary and category") {
			JSONCategory.addVocabulary(
				groupName = "Test Site Name",
				title = "Vocabulary Name");

			var categoryId = JSONCategory.addCategory(
				groupName = "Test Site Name",
				title = "Test",
				vocabularyName = "Vocabulary Name");
		}

		task ("Adding Web Content") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId}",
				content = "WC WebContent Content",
				groupName = "Test Site Name",
				title = "WC WebContent Title");
		}

		task ("Go to Content Dashboard and filtering category") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByCategory(categoryNameList = "Test");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Test");
		}
	}

	@description = "LPS-122873 When there are some categories created for vocabulary1 (X axis), they will always have the same order during the user session"
	@priority = "3"
	test CategoriesWithSameOrderDuringASession {
		task ("Create a list of Audiences") {
			var categoryId1 = JSONCategory.addCategory(
				groupName = "Global",
				title = "C_Subaudience_1",
				vocabularyName = "Audience");
			var categoryId2 = JSONCategory.addCategory(
				groupName = "Global",
				title = "B_Subaudience_2",
				vocabularyName = "Audience");
			var categoryId3 = JSONCategory.addCategory(
				groupName = "Global",
				title = "A_Subaudience_3",
				vocabularyName = "Audience");
		}

		task ("Create a Web Content") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId1},${categoryId2},${categoryId3}",
				content = "test content",
				groupName = "Test Site Name",
				title = "Web Content Title 1");

			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId1},${categoryId2},${categoryId3}",
				content = "test content",
				groupName = "Test Site Name",
				title = "Web Content Title 2");
		}

		task ("Validade if the categories are shown in order of creation") {
			ContentDashboard.goToContentDashboard();

			AssertTextPresent(
				categoryIndex = "1",
				locator1 = "ContentDashboard#X_AXIS_CATEGORIES_NAME",
				value1 = "C_Subaudience_1");

			AssertTextPresent(
				categoryIndex = "2",
				locator1 = "ContentDashboard#X_AXIS_CATEGORIES_NAME",
				value1 = "B_Subaudience_2");

			AssertTextPresent(
				categoryIndex = "3",
				locator1 = "ContentDashboard#X_AXIS_CATEGORIES_NAME",
				value1 = "A_Subaudience_3");
		}
	}

	@description = "LPS-131793: Given the categorization section in Documents and Media
	Then the OOTB Internal (Topic) and Public (Audience & Stage) vocabularies are shown"
	@priority = "3"
	test CategorizationInOOTBTable {
		task ("Go to Documents and Media and clik on Add Button and File Upload") {
			DMNavigator.openToAddEntry(
				groupName = "Test Site Name",
				siteURLKey = "test-site-name");
		}

		task ("Go to categorization and check if Topic, Audience and Stage are present") {
			Panel.expandPanel(panel = "Categorization");
		}

		task ("Check if the words Topic, Audience and Stage are shown") {
			AssertTextPresent(
				key_fieldLabel = "Topic",
				locator1 = "AssetCategorization#VOCABULARY_LIST_ITEM",
				value1 = "Topic");

			AssertTextPresent(
				key_fieldLabel = "Audience",
				locator1 = "AssetCategorization#VOCABULARY_LIST_ITEM",
				value1 = "Audience");

			AssertTextPresent(
				key_fieldLabel = "Stage",
				locator1 = "AssetCategorization#VOCABULARY_LIST_ITEM",
				value1 = "Stage");
		}
	}

	@description = "LPS-155288: Given categories filter using treeview component
	And there is any category's checkbox selected
	When user clicks 'Clear All' button
	Then all checkboxes turns deselected"
	@priority = "4"
	test CheckAllCheckboxesTurnsDeselectedWithClearButtonAtTreeviewComponent {
		property portal.acceptance = "true";

		task ("Adding vocabulary and categories") {
			JSONCategory.addVocabulary(
				groupName = "Test Site Name",
				title = "Vocabulary Name");

			var categoryId = JSONCategory.addCategory(
				groupName = "Test Site Name",
				title = "Test 1",
				vocabularyName = "Vocabulary Name");
			var categoryId = JSONCategory.addCategory(
				groupName = "Test Site Name",
				title = "Test 2",
				vocabularyName = "Vocabulary Name");
			var categoryId = JSONCategory.addCategory(
				groupName = "Test Site Name",
				title = "Test 3",
				vocabularyName = "Vocabulary Name");
		}

		task ("Adding Web Content") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId}",
				content = "WC WebContent Content",
				groupName = "Test Site Name",
				title = "WC WebContent Title");
		}

		task ("Open filter modal at Content Dashboard and filtering category") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.openFilterModal(filterOption = "Categories");

			Portlet.expandTree();

			Click(
				key_nodeName = "Test 1",
				locator1 = "Treeview#NODE_ITEM");

			Click(
				key_nodeName = "Test 2",
				locator1 = "Treeview#NODE_ITEM");

			Click(
				key_nodeName = "Test 3",
				locator1 = "Treeview#NODE_ITEM");
		}

		task ("Assert 'Clear All' disapears after clicking it") {
			ClickNoError(
				key_text = "Clear All",
				locator1 = "Button#ANY");

			AssertElementNotPresent(
				key_text = "Clear All",
				locator1 = "Button#ANY");
		}

		task ("Asserting that all checkboxes turns deselected") {
			AssertNotChecked(
				key_nodeName = "Test 1",
				locator1 = "Treeview#NODE_ITEM");

			AssertNotChecked(
				key_nodeName = "Test 2",
				locator1 = "Treeview#NODE_ITEM");

			AssertNotChecked(
				key_nodeName = "Test 3",
				locator1 = "Treeview#NODE_ITEM");
		}
	}

	@description = "LPS-155288: Given categories filter using treeview component
	When user selects any category's checkbox
	Then a the amount of items selected appears at results bar"
	@priority = "3"
	test CheckAmountOfCategoriesResultsBarAtTreeviewComponent {
		property portal.acceptance = "false";

		task ("Adding vocabulary and categories") {
			JSONCategory.addVocabulary(
				groupName = "Test Site Name",
				title = "Vocabulary Name");

			var categoryId = JSONCategory.addCategory(
				groupName = "Test Site Name",
				title = "Test 1",
				vocabularyName = "Vocabulary Name");
			var categoryId = JSONCategory.addCategory(
				groupName = "Test Site Name",
				title = "Test 2",
				vocabularyName = "Vocabulary Name");
			var categoryId = JSONCategory.addCategory(
				groupName = "Test Site Name",
				title = "Test 3",
				vocabularyName = "Vocabulary Name");
		}

		task ("Adding Web Content") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId}",
				content = "WC WebContent Content",
				groupName = "Test Site Name",
				title = "WC WebContent Title");
		}

		task ("Open filter modal at Content Dashboard and filtering category") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.openFilterModal(filterOption = "Categories");

			Portlet.expandTree();

			Click(
				key_nodeName = "Test 1",
				locator1 = "Treeview#NODE_ITEM");

			Click(
				key_nodeName = "Test 2",
				locator1 = "Treeview#NODE_ITEM");

			Click(
				key_nodeName = "Test 3",
				locator1 = "Treeview#NODE_ITEM");
		}

		task ("Checking if the results bar appears") {
			AssertTextPresent(
				locator1 = "Treeview#FILTER_BY_RESULTS_BAR_MESSAGE",
				value1 = "3 ");

			AssertTextPresent(
				locator1 = "Treeview#FILTER_BY_RESULTS_BAR_MESSAGE",
				value1 = "Items Selected");
		}
	}

	@description = "LPS-155288: Given user has selected categories checkboxes
	And clicked 'Select'
	When returns to 'Select Categories'
	Then the results bar is present"
	@priority = "3"
	test CheckCategoriesKeepResultsBarAtTreeviewComponent {
		property portal.acceptance = "false";

		task ("Adding vocabulary and category") {
			JSONCategory.addVocabulary(
				groupName = "Test Site Name",
				title = "Vocabulary Name");

			var categoryId = JSONCategory.addCategory(
				groupName = "Test Site Name",
				title = "Test",
				vocabularyName = "Vocabulary Name");
		}

		task ("Adding Web Content") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId}",
				content = "WC WebContent Content",
				groupName = "Test Site Name",
				title = "WC WebContent Title");
		}

		task ("Open filter modal at Content Dashboard and filtering category") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByCategory(categoryNameList = "Test");
		}

		task ("Returns to 'Select Categories' and checking if the results bar is present") {
			ContentDashboard.openFilterModal(filterOption = "Categories");

			AssertTextPresent(
				locator1 = "Treeview#FILTER_BY_RESULTS_BAR_MESSAGE",
				value1 = "1 ");

			AssertTextPresent(
				locator1 = "Treeview#FILTER_BY_RESULTS_BAR_MESSAGE",
				value1 = "Item Selected");
		}
	}

	@description = "LPS-155288: Given categories filter using treeview component
	When user selects any category's checkbox
	Then a results bar appears"
	@priority = "4"
	test CheckCategoriesResultsBarAtTreeviewComponent {
		property portal.acceptance = "true";

		task ("Adding vocabulary and category") {
			JSONCategory.addVocabulary(
				groupName = "Test Site Name",
				title = "Vocabulary Name");

			var categoryId = JSONCategory.addCategory(
				groupName = "Test Site Name",
				title = "Test",
				vocabularyName = "Vocabulary Name");
		}

		task ("Adding Web Content") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId}",
				content = "WC WebContent Content",
				groupName = "Test Site Name",
				title = "WC WebContent Title");
		}

		task ("Open filter modal at Content Dashboard and filtering category") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.openFilterModal(filterOption = "Categories");

			Portlet.expandTree();

			Click(
				key_nodeName = "Test",
				locator1 = "Treeview#NODE_ITEM");
		}

		task ("Checking if the results bar appears") {
			AssertTextPresent(
				locator1 = "Treeview#FILTER_BY_RESULTS_BAR_MESSAGE",
				value1 = "1 ");

			AssertTextPresent(
				locator1 = "Treeview#FILTER_BY_RESULTS_BAR_MESSAGE",
				value1 = "Item Selected");
		}
	}

	@description = "LPS-155288: Given categories filter using treeview component
	When user selects any category's checkbox
	Then a 'Clear All' button appears at results bar"
	@priority = "4"
	test CheckClearButtonCategoryResultsBarAtTreeviewComponent {
		property portal.acceptance = "true";

		task ("Adding vocabulary and category") {
			JSONCategory.addVocabulary(
				groupName = "Test Site Name",
				title = "Vocabulary Name");

			var categoryId = JSONCategory.addCategory(
				groupName = "Test Site Name",
				title = "Test",
				vocabularyName = "Vocabulary Name");
		}

		task ("Adding Web Content") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId}",
				content = "WC WebContent Content",
				groupName = "Test Site Name",
				title = "WC WebContent Title");
		}

		task ("Open filter modal at Content Dashboard and filtering category") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.openFilterModal(filterOption = "Categories");

			Portlet.expandTree();

			Click(
				key_nodeName = "Test",
				locator1 = "Treeview#NODE_ITEM");
		}

		task ("Checking if the results bar appears") {
			AssertTextPresent(
				locator1 = "Treeview#FILTER_BY_RESULTS_BAR_MESSAGE",
				value1 = "1 ");

			AssertTextPresent(
				locator1 = "Treeview#FILTER_BY_RESULTS_BAR_MESSAGE",
				value1 = "Item Selected");
		}

		task ("Assert 'Clear All' button appears at results bar") {
			AssertVisible(
				key_text = "Clear All",
				locator1 = "Button#ANY");
		}
	}

	@description = "LPS-132597 When a web content is associated to a Display Page and its status is Approved, a display page icon is displayed"
	@priority = "5"
	test CheckDisplayPageIconofApprovedWebContent {
		property portal.acceptance = "true";

		task ("Create a default Display Page Template") {
			JSONLayoutpagetemplate.addDisplayPageTemplateEntry(
				contentType = "Web Content Article",
				displayPageTemplateEntryName = "Display Page Name",
				groupName = "Test Site Name",
				statusKey = "APPROVED",
				subType = "Basic Web Content");

			JSONLayoutpagetemplate.setLayoutPageTemplateEntryAsDefault(
				groupName = "Test Site Name",
				layoutPageTemplateEntryName = "Display Page Name",
				type = "Display Page Template");
		}

		task ("Create a Web Content and set a Display Page") {
			JSONWebcontent.addWebContent(
				content = "Webcontent Content",
				groupName = "Test Site Name",
				title = "Webcontent Title");
		}

		task ("Check in Content Dashboard if WC is assiciated with Display Page Template") {
			ContentDashboard.goToContentDashboard();

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Webcontent Title");

			AssertVisible(locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED_DISPLAY_PAGE");
		}
	}

	@description = "LPS-132597 When a web content is NOT associated to a Display Page and its status is Approved, a display page icon is NOT displayed"
	@priority = "5"
	test CheckDisplayPageIconofApprovedWebContentNotDisplayed {
		property portal.acceptance = "true";

		task ("Create a Web Content and set a Display Page") {
			JSONWebcontent.addWebContent(
				content = "Webcontent Content",
				groupName = "Test Site Name",
				title = "Webcontent Title");
		}

		task ("Check in Content Dashboard if WC is assiciated with Display Page Template") {
			ContentDashboard.goToContentDashboard();

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Webcontent Title");

			AssertElementNotPresent(locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED_DISPLAY_PAGE");
		}
	}

	@description = "LPS-132597 When a web content is associated to a Display Page and its status is Pending, a display page icon is NOT displayed"
	@priority = "5"
	test CheckDisplayPageIconofPendingWebContent {
		property portal.acceptance = "true";

		task ("Create a default Display Page Template") {
			JSONLayoutpagetemplate.addDisplayPageTemplateEntry(
				contentType = "Web Content Article",
				displayPageTemplateEntryName = "Display Page Name",
				groupName = "Test Site Name",
				statusKey = "APPROVED",
				subType = "Basic Web Content");

			JSONLayoutpagetemplate.setLayoutPageTemplateEntryAsDefault(
				groupName = "Test Site Name",
				layoutPageTemplateEntryName = "Display Page Name",
				type = "Display Page Template");
		}

		task ("Configure Web Content Article workflow to Single Approver") {
			Workflow.openWorkflowAdmin(siteURLKey = "test-site-name");

			Workflow.configureWorkflow(
				workflowDefinition = "Single Approver",
				workflowResourceValue = "Web Content Article");
		}

		task ("Create a Web Content and set a Display Page") {
			JSONWebcontent.addWebContent(
				content = "Webcontent Content",
				groupName = "Test Site Name",
				title = "Webcontent Title");
		}

		task ("Check in Content Dashboard if WC is assiciated with Display Page Template") {
			ContentDashboard.goToContentDashboard();

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Webcontent Title");

			AssertElementNotPresent(locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED_DISPLAY_PAGE");
		}
	}

	@description = "LPS-160210: Add WebDAV URL to Info Panel"
	@priority = "3"
	test CheckDocumentURLLabel {
		task ("Given a Document Asset at Content Dashboard") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "DM Document Title",
				groupName = "Test Site Name",
				mimeType = "text/plain",
				sourceFileName = "Document_1.txt");
		}

		task ("When the user accesses the information panel") {
			ContentDashboard.goToContentDashboard();

			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "DM Document Title");

			Panel.expandPanel(panel = "Details");
		}

		task ("Then the field labels should be added to distinguish between the two URLs ") {
			AssertTextPresent(
				locator1 = "ContentDashboard#URL_LABEL",
				value1 = "WebDAV URL");

			AssertTextPresent(
				locator1 = "ContentDashboard#URL_LABEL",
				value1 = "Latest Version URL");
		}
	}

	@description = "LPS-131936 Given the Content Dashboard
    When there is an asset with more than one category per vocabulary
    Then the table will show a label with the first of the categories and another one with a + and the number of remaining categories"
	@priority = "5"
	test CheckForMoreCategories {
		property portal.acceptance = "true";

		task ("Create a list of Audiences") {
			var categoryId1 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Subaudience_1",
				vocabularyName = "Audience");
			var categoryId2 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Subaudience_2",
				vocabularyName = "Audience");
			var categoryId3 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Subaudience_3",
				vocabularyName = "Audience");
		}

		task ("Create a Web Content") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId1},${categoryId2},${categoryId3}",
				content = "test content",
				groupName = "Test Site Name",
				title = "WC");
		}

		task ("Nagigate to Content Dashboard and check if there's a label with '...' indicating 'more categories' ") {
			ContentDashboard.goToContentDashboard();

			AssertTextPresent(
				assetName = "WC",
				locator1 = "ContentDashboard#ASSET_CATEGORY_LABEL",
				value1 = "+ 2");
		}
	}

	@description = "LPS-151808 Bug: The button Metrics is shown for web content in Pending status"
	@priority = "4"
	test CheckMetricsIconofPendingWebContent {
		property portal.acceptance = "true";

		task ("Create a default Display Page Template") {
			JSONLayoutpagetemplate.addDisplayPageTemplateEntry(
				contentType = "Web Content Article",
				displayPageTemplateEntryName = "Display Page Name",
				groupName = "Test Site Name",
				statusKey = "APPROVED",
				subType = "Basic Web Content");

			JSONLayoutpagetemplate.setLayoutPageTemplateEntryAsDefault(
				groupName = "Test Site Name",
				layoutPageTemplateEntryName = "Display Page Name",
				type = "Display Page Template");
		}

		task ("Configure Web Content Article workflow to Single Approver") {
			Workflow.openWorkflowAdmin(siteURLKey = "test-site-name");

			Workflow.configureWorkflow(
				workflowDefinition = "Single Approver",
				workflowResourceValue = "Web Content Article");
		}

		task ("Create a pending Web Content") {
			JSONWebcontent.addWebContent(
				content = "Webcontent Content",
				groupName = "Test Site Name",
				title = "Pending Web Content Title");
		}

		task ("Navigate to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Check that Metrics icon is not present for pending asset") {
			Click.clickNoMouseOver(
				key_assetName = "Pending Web Content Title",
				locator1 = "ContentDashboard#ROW_PANEL_ASSET_NAME");

			AssertElementNotPresent(
				locator1 = "ContentDashboard#QUICK_ACTION_ICON",
				title = "View Metrics");
		}
	}

	@description = "LPS-122873 When any web content is unassigned to a Vocab1's category, the relative ordering of categories remain the same"
	@priority = "3"
	test CheckOrderEvenWithSomeUnassignedCategories {
		task ("Create a list of Audience Categories") {
			var audienceId1 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Subaudience_1",
				vocabularyName = "Audience");
			var audienceId2 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Subaudience_2",
				vocabularyName = "Audience");
			var audienceId3 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Subaudience_3",
				vocabularyName = "Audience");
		}

		task ("Create a list of Stage Categories") {
			var stageId1 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Substage_1",
				vocabularyName = "Stage");
			var stageId2 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Substage_2",
				vocabularyName = "Stage");
			var stageId3 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Substage_3",
				vocabularyName = "Stage");
		}

		task ("Create 1st Web Content with all categories but the 2nd category of Audience") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${audienceId1},${audienceId3},${stageId1},${stageId2},${stageId3}",
				content = "Webcontent Content",
				groupName = "Test Site Name",
				title = "Webcontent Title 1");
		}

		task ("Create 2nd and 3rd Web Contents with all categories from Audience and Stage") {
			for (var count : list "2,3") {
				JSONWebcontent.addWebContent(
					assetCategoryIds = "${audienceId1},${audienceId2},${audienceId3},${stageId1},${stageId2},${stageId3}",
					content = "Webcontent Content",
					groupName = "Test Site Name",
					title = "Webcontent Title ${count}");
			}
		}

		task ("Navigate to content Dashboard and View the order of categories") {
			ContentDashboard.goToContentDashboard();

			task ("blue - first position") {
				AssertElementPresent(
					fillColor = "4B9FFF",
					locator1 = "ContentDashboard#BAR_FROM_NO_VOCABULARY_SPECIFIED");
			}

			task ("orange - second position") {
				AssertElementPresent(
					fillColor = "FFB46E",
					locator1 = "ContentDashboard#BAR_FROM_NO_VOCABULARY_SPECIFIED");
			}

			task ("red - third position") {
				AssertElementPresent(
					fillColor = "FF5F5F",
					locator1 = "ContentDashboard#BAR_FROM_NO_VOCABULARY_SPECIFIED");
			}
		}
	}

	@description = "LPS-152906: Given a Blogs Asset at Content Dashboard
	When the user accesses the its information panel
	Then the share button must be present"
	@ignore = "true"
	@priority = "4"
	test CheckShareButtonIsPresentForBlogs {
		task ("Create a Blog Entry asset") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Navigate to the content Dashboard and the user accesses the Blog Asset information panel") {
			ContentDashboard.goToContentDashboard();

			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "Blogs Entry Content");
		}

		task ("Check if the share button is not present at info panel") {
			AssertVisible(
				key_text = "Share",
				locator1 = "Button#ANY");
		}
	}

	@description = "LPS-152906: Given the Info panel of the Content Dashboard
	When the user accesses the Web Content information panel
	Then share button must not be present for Web Content"
	@ignore = "true"
	@priority = "4"
	test CheckShareButtonNotPresentForWebContent {
		task ("Create a Web Content and set a Display Page") {
			JSONWebcontent.addWebContent(
				content = "Webcontent Content",
				groupName = "Test Site Name",
				title = "WC Content");
		}

		task ("Navigate to the content Dashboard and the user accesses the Web Content information panel") {
			ContentDashboard.goToContentDashboard();

			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "WC Content");
		}

		task ("Check if the share button is not present at info panel") {
			AssertElementNotPresent(
				key_text = "Share",
				locator1 = "Button#ANY");
		}
	}

	@description = "LPS-133716 When in Content Dashboard, a column with the Site / assetLibraty header is shown."
	@priority = "2"
	test CheckSiteAssertLibraryColumn {
		task ("Create a Web Content") {
			JSONWebcontent.addWebContent(
				content = "Web Content Content",
				groupName = "Test Site Name",
				title = "Web Content Title");
		}

		task ("Check in Content Dashboard if the column is being displayed") {
			ContentDashboard.goToContentDashboard();

			AssertVisible(
				locator1 = "ContentDashboard#SITE_ASSET_LIBRARY_COLUMN",
				siteAssetValue = "Site or Asset Library");
		}
	}

	@description = "LPS-133716 When in Content Dashboard, the name of the Site/Asset Library where the contents are stored is shown, regardless where it was created"
	@priority = "5"
	test CheckSiteAssertLibraryOfContent {
		property portal.acceptance = "true";

		task ("Create new Group") {
			JSONGroup.addGroup(groupName = "Second Test Site Name");
		}

		task ("Create a Web Content for each group") {
			JSONWebcontent.addWebContent(
				content = "Web Content Content",
				groupName = "Test Site Name",
				title = "Web Content Title");

			JSONWebcontent.addWebContent(
				content = "WC WebContent Content",
				groupName = "Second Test Site Name",
				title = "WC WebContent Title");
		}

		task ("Check in Content Dashboard if the right information is being displayed") {
			ContentDashboard.goToContentDashboard();

			AssertVisible(
				locator1 = "ContentDashboard#SITE_ASSET_LIBRARY_COLUMN",
				siteAssetValue = "Test Site Name");

			AssertVisible(
				locator1 = "ContentDashboard#SITE_ASSET_LIBRARY_COLUMN",
				siteAssetValue = "Second Test Site Name");
		}

		task ("Drop second group") {
			JSONGroup.deleteGroupByName(groupName = "Second Test Site Name");
		}
	}

	@description = "LPS-122873 When a new category is created and assigned to a web content, the relative ordering of categories remain the same and the new category gets a new color, positionated in the last position"
	@priority = "3"
	test CheckTheOrderWithANewCategory {
		task ("Create a list of Audience Categories") {
			var audienceId1 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Subaudience_1",
				vocabularyName = "Audience");
			var audienceId2 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Subaudience_2",
				vocabularyName = "Audience");
			var audienceId3 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Subaudience_3",
				vocabularyName = "Audience");
		}

		task ("Create a list of Stage Categories") {
			var stageId1 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Substage_1",
				vocabularyName = "Stage");
			var stageId2 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Substage_2",
				vocabularyName = "Stage");
			var stageId3 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Substage_3",
				vocabularyName = "Stage");
		}

		task ("Create a Web Content with the categories") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${audienceId1},${audienceId2},${audienceId3},${stageId1},${stageId2},${stageId3}",
				content = "Webcontent Content",
				groupName = "Test Site Name",
				title = "Webcontent Title");
		}

		task ("Create a new category and assign one of the contents") {
			JSONCategory.addCategory(
				groupName = "Global",
				title = "Substage_4",
				vocabularyName = "Stage");

			WebContentNavigator.openWebContentAdmin(siteURLKey = "test-site-name");

			WebContentNavigator.gotoEditCP(webContentTitle = "Webcontent Title");

			WebContent.selectCategory(
				categoryNameList = "Substage_4",
				vocabularyName = "Stage");

			PortletEntry.publish();
		}

		task ("Navigate to the content panel and see if, in the new category order, the new category receives a new color, placed in the last position") {
			ContentDashboard.goToContentDashboard();

			task ("blue - first position") {
				AssertElementPresent(
					fillColor = "4B9FFF",
					locator1 = "ContentDashboard#BAR_FROM_NO_VOCABULARY_SPECIFIED");
			}

			task ("orange - second position") {
				AssertElementPresent(
					fillColor = "FFB46E",
					locator1 = "ContentDashboard#BAR_FROM_NO_VOCABULARY_SPECIFIED");
			}

			task ("red - third position") {
				AssertElementPresent(
					fillColor = "FF5F5F",
					locator1 = "ContentDashboard#BAR_FROM_NO_VOCABULARY_SPECIFIED");
			}

			task ("green - last position") {
				AssertElementPresent(
					fillColor = "50D2A0",
					locator1 = "ContentDashboard#BAR_FROM_NO_VOCABULARY_SPECIFIED");
			}
		}
	}

	@description = "When click on the 'Other options' icon of Approved WC and has NOT a display page associated, View option NOT displayed"
	@priority = "4"
	test CheckViewOptionNotDisplayedApprovedWCNotAssiciatedDPT {
		property portal.acceptance = "true";

		task ("Create a Web Content") {
			JSONWebcontent.addWebContent(
				content = "Web Content Content",
				groupName = "Test Site Name",
				title = "Web Content Title");
		}

		task ("Check in Content Dashboard if view option is NOT avalible for this WC") {
			ContentDashboard.goToContentDashboard();

			Click.waitForMenuToggleJSClick(
				key_tableEntry = "Web Content Title",
				locator1 = "LexiconTable#TABLE_ENTRY_ELLIPSIS");

			AssertElementNotPresent(
				key_menuItem = "View",
				locator1 = "MenuItem#ANY_MENU_ITEM");
		}
	}

	@description = "When click on the 'Other options' icon of not Approved WC and has a display page associated, View option NOT displayed"
	@priority = "4"
	test CheckViewOptionNotDisplayedNotApprovedWCAssiciatedDPT {
		property portal.acceptance = "true";

		task ("Create a default Display Page Template") {
			JSONLayoutpagetemplate.addDisplayPageTemplateEntry(
				contentType = "Web Content Article",
				displayPageTemplateEntryName = "Display Page Name",
				groupName = "Test Site Name",
				statusKey = "APPROVED",
				subType = "Basic Web Content");

			JSONLayoutpagetemplate.setLayoutPageTemplateEntryAsDefault(
				groupName = "Test Site Name",
				layoutPageTemplateEntryName = "Display Page Name",
				type = "Display Page Template");
		}

		task ("Configure Web Content Article workflow to Single Approver") {
			Workflow.openWorkflowAdmin(siteURLKey = "test-site-name");

			Workflow.configureWorkflow(
				workflowDefinition = "Single Approver",
				workflowResourceValue = "Web Content Article");
		}

		task ("Create a Web Content") {
			JSONWebcontent.addWebContent(
				content = "Web Content Content",
				groupName = "Test Site Name",
				title = "Web Content Title");
		}

		task ("Check in Content Dashboard if view option is NOT avalible for this WC") {
			ContentDashboard.goToContentDashboard();

			Click.waitForMenuToggleJSClick(
				key_tableEntry = "Web Content Title",
				locator1 = "LexiconTable#TABLE_ENTRY_ELLIPSIS");

			AssertElementNotPresent(
				key_menuItem = "View",
				locator1 = "MenuItem#ANY_MENU_ITEM");
		}
	}

	@description = "LPS-152604 Given there are nodes selected at treeview
    When user clicks the 'Clear' button
    Then 'Clear' button should not appear anymore"
	@priority = "3"
	@uitest
	test ClearButtonAtTreeviewComponent {
		task ("Create a Web Content asset") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "WC Title");
		}

		task ("Create a Blog Entry asset") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Open filter modal at Content Dashboard") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.openFilterModal(filterOption = "Type");
		}

		task ("Assert 'Clear All' disapears after clicking it") {
			ContentDashboard.cancelSelectFilterTreeview(optionsList = "Basic Web Content,Basic Document");

			AssertElementNotPresent(locator1 = "ContentDashboard#FILTER_BAR");
		}
	}

	@description = "LPS-155288: Given categories filter using treeview component
	And there is any category's checkbox selected
	When user clicks 'Clear All' button
	Then the results bar disappears "
	@priority = "3"
	test ClearButtonCategoryAtTreeviewComponent {
		property portal.acceptance = "false";

		task ("Adding vocabulary and category") {
			JSONCategory.addVocabulary(
				groupName = "Test Site Name",
				title = "Vocabulary Name");

			var categoryId = JSONCategory.addCategory(
				groupName = "Test Site Name",
				title = "Test",
				vocabularyName = "Vocabulary Name");
		}

		task ("Adding Web Content") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId}",
				content = "WC WebContent Content",
				groupName = "Test Site Name",
				title = "WC WebContent Title");
		}

		task ("Open filter modal at Content Dashboard and filtering category") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.openFilterModal(filterOption = "Categories");

			Portlet.expandTree();

			Click(
				key_nodeName = "Test",
				locator1 = "Treeview#NODE_ITEM");
		}

		task ("Assert 'Clear All' disapears after clicking it") {
			ClickNoError(
				key_text = "Clear All",
				locator1 = "Button#ANY");

			AssertElementNotPresent(
				key_text = "Clear All",
				locator1 = "Button#ANY");
		}

		task ("Checking if the results bar not appears") {
			AssertTextNotPresent(
				locator1 = "Treeview#FILTER_BY_RESULTS_BAR_MESSAGE",
				value1 = "1 ");

			AssertTextNotPresent(
				locator1 = "Treeview#FILTER_BY_RESULTS_BAR_MESSAGE",
				value1 = "Item Selected");
		}
	}

	@description = "LPS-121658 When a user with no edit permissions clicks on the title of a content in status Approved with associated DPT, the user is led to the page view"
	@priority = "4"
	@uitest
	test ClickTitleApprovedDPTWithNoPermissions {
		property portal.acceptance = "true";
		property test.name.skip.portal.instance = "ContentDashboard#ClickTitleApprovedDPTWithNoPermissions";

		task ("Create a default Display Page Template") {
			JSONLayoutpagetemplate.addDisplayPageTemplateEntry(
				contentType = "Web Content Article",
				displayPageTemplateEntryName = "Display Page Name",
				groupName = "Test Site Name",
				statusKey = "APPROVED",
				subType = "Basic Web Content");

			JSONLayoutpagetemplate.setLayoutPageTemplateEntryAsDefault(
				groupName = "Test Site Name",
				layoutPageTemplateEntryName = "Display Page Name",
				type = "Display Page Template");
		}

		task ("Create a Web Content") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "WC Title");
		}

		task ("Create an User") {
			JSONUser.addUser(
				userEmailAddress = "userea@liferay.com",
				userFirstName = "userfn",
				userLastName = "userln",
				userScreenName = "usersn");

			JSONUser.setFirstPassword(
				agreeToTermsAndAnswerReminderQuery = "true",
				newPassword = "test",
				requireReset = "false",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Create a Role") {
			JSONRole.addRegularRole(
				roleKey = "WC Creator Edit Permissions Test",
				roleTitle = "WC Creator Edit Permissions Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "VIEW_SITE_ADMINISTRATION",
				resourceName = "com.liferay.portal.kernel.model.Group",
				roleTitle = "WC Creator Edit Permissions Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "ACCESS_IN_CONTROL_PANEL",
				resourceName = "com_liferay_content_dashboard_web_portlet_ContentDashboardAdminPortlet",
				roleTitle = "WC Creator Edit Permissions Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "VIEW_CONTROL_PANEL",
				resourceName = "90",
				roleTitle = "WC Creator Edit Permissions Test");

			JSONRole.assignRoleToUser(
				roleTitle = "WC Creator Edit Permissions Test",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Logout and login with created user") {
			User.logoutAndLoginPG(
				userLoginEmailAddress = "userea@liferay.com",
				userLoginFullName = "userfn userln");
		}

		task ("Click at assets title at Content Dashboard") {
			ContentDashboard.goToContentDashboard();

			LexiconTable.clickTableEntryColumnLink(
				columnName = "title",
				tableEntry = "");

			WaitForPageLoad();

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "WC Title");
		}
	}

	@description = "LPS-121658 When a user with edit permissions clicks on the title of a content in status Approved with associated DPT, the user is led to the page view"
	@priority = "4"
	@uitest
	test ClickTitleApprovedDPTWithPermissions {
		property portal.acceptance = "true";
		property test.name.skip.portal.instance = "ContentDashboard#ClickTitleApprovedDPTWithPermissions";

		task ("Create a default Display Page Template") {
			JSONLayoutpagetemplate.addDisplayPageTemplateEntry(
				contentType = "Web Content Article",
				displayPageTemplateEntryName = "Display Page Name",
				groupName = "Test Site Name",
				statusKey = "APPROVED",
				subType = "Basic Web Content");

			JSONLayoutpagetemplate.setLayoutPageTemplateEntryAsDefault(
				groupName = "Test Site Name",
				layoutPageTemplateEntryName = "Display Page Name",
				type = "Display Page Template");
		}

		task ("Create a Web Content") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "WC Title");
		}

		task ("Create an User") {
			JSONUser.addUser(
				userEmailAddress = "userea@liferay.com",
				userFirstName = "userfn",
				userLastName = "userln",
				userScreenName = "usersn");

			JSONUser.setFirstPassword(
				agreeToTermsAndAnswerReminderQuery = "true",
				newPassword = "test",
				requireReset = "false",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Crete a Role with proper permissons") {
			JSONRole.addRegularRole(
				roleKey = "WC Creator Edit Permissions Test",
				roleTitle = "WC Creator Edit Permissions Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "VIEW",
				resourceName = "com.liferay.journal",
				roleTitle = "WC Creator Edit Permissions Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "ADD_ARTICLE",
				resourceName = "com.liferay.journal",
				roleTitle = "WC Creator Edit Permissions Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "VIEW_SITE_ADMINISTRATION",
				resourceName = "com.liferay.portal.kernel.model.Group",
				roleTitle = "WC Creator Edit Permissions Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "ACCESS_IN_CONTROL_PANEL",
				resourceName = "com_liferay_journal_web_portlet_JournalPortlet",
				roleTitle = "WC Creator Edit Permissions Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "ACCESS_IN_CONTROL_PANEL",
				resourceName = "com_liferay_content_dashboard_web_portlet_ContentDashboardAdminPortlet",
				roleTitle = "WC Creator Edit Permissions Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "VIEW_CONTROL_PANEL",
				resourceName = "90",
				roleTitle = "WC Creator Edit Permissions Test");

			JSONRole.assignRoleToUser(
				roleTitle = "WC Creator Edit Permissions Test",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Logout and login with created user") {
			User.logoutAndLoginPG(
				userLoginEmailAddress = "userea@liferay.com",
				userLoginFullName = "userfn userln");
		}

		task ("Go to asset page by Content Dashboard") {
			ContentDashboard.goToContentDashboard();

			LexiconTable.clickTableEntryColumnLink(
				columnName = "title",
				tableEntry = "");

			WaitForPageLoad();

			AssertTextPresent(
				locator1 = "ContentDashboard#DISPLAY_PAGE_TITLE",
				value1 = "WC Title");
		}
	}

	@description = "LPS-121658 When a user with edit permissions (owner) clicks on the title of a content in status Approved with no associated DPT, the user is led to the web content editor"
	@priority = "3"
	@uitest
	test ClickTitleApprovedNoDPT {
		property test.name.skip.portal.instance = "ContentDashboard#ClickTitleApprovedNoDPT";

		task ("Add web content Approved") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "WC Title");
		}

		task ("Go to Content Dashboard and click on the title") {
			ContentDashboard.goToContentDashboard();

			LexiconTable.clickTableEntryColumnLink(
				columnName = "title",
				tableEntry = "");
		}

		task ("Assert the web content is opened in the web content editor") {
			AssertVisible(
				locator1 = "Button#PUBLISH",
				value1 = "Publish");
		}
	}

	@description = "LPS-132509 Given a user with NO permissions to edit
	And a Blog entry that is associated with a Display Page Template
	When the user clicks on the title link in the content dashboard
	Then the user should be led to a preview of the Display Page Template, with no editing options"
	@priority = "4"
	@uitest
	test ClickTitleBlogDPTWithNoPermissions {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";
		property portal.acceptance = "true";

		task ("Create a default Display Page Template") {
			JSONLayoutpagetemplate.addDisplayPageTemplateEntry(
				contentType = "Blogs Entry",
				displayPageTemplateEntryName = "Display Page Name",
				groupName = "Test Site Name",
				statusKey = "APPROVED");

			JSONLayoutpagetemplate.setLayoutPageTemplateEntryAsDefault(
				groupName = "Test Site Name",
				layoutPageTemplateEntryName = "Display Page Name",
				type = "Display Page Template");
		}

		task ("Create a blog in the first site") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Create an User") {
			JSONUser.addUser(
				userEmailAddress = "userea@liferay.com",
				userFirstName = "userfn",
				userLastName = "userln",
				userScreenName = "usersn");

			JSONUser.setFirstPassword(
				agreeToTermsAndAnswerReminderQuery = "true",
				newPassword = "test",
				requireReset = "false",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Add a role with NO permissions") {
			JSONRole.addRegularRole(
				roleKey = "Blog Creator No Edit Permissions Test",
				roleTitle = "Blog Creator No Edit Permissions Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "VIEW_SITE_ADMINISTRATION",
				resourceName = "com.liferay.portal.kernel.model.Group",
				roleTitle = "Blog Creator No Edit Permissions Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "ACCESS_IN_CONTROL_PANEL",
				resourceName = "com_liferay_content_dashboard_web_portlet_ContentDashboardAdminPortlet",
				roleTitle = "Blog Creator No Edit Permissions Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "VIEW_CONTROL_PANEL",
				resourceName = "90",
				roleTitle = "Blog Creator No Edit Permissions Test");

			JSONRole.assignRoleToUser(
				roleTitle = "Blog Creator No Edit Permissions Test",
				userEmailAddress = "userea@liferay.com");

			User.logoutAndLoginPG(
				userLoginEmailAddress = "userea@liferay.com",
				userLoginFullName = "userfn userln");
		}

		task ("Go to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Click on the title") {
			LexiconTable.clickTableEntryColumnLink(
				columnName = "title",
				tableEntry = "");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Blogs Entry Title");
		}
	}

	@description = "LPS-132509 Given a user with permissions to edit
	And a Blog entry that is associated with a Display Page Template
	When the user clicks on the title link in the content dashboard
	Then the user is led to a preview of the Display Page Template with editing options"
	@priority = "4"
	@uitest
	test ClickTitleBlogDPTWithPermissions {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";
		property portal.acceptance = "true";

		task ("Create a default Display Page Template") {
			JSONLayoutpagetemplate.addDisplayPageTemplateEntry(
				contentType = "Blogs Entry",
				displayPageTemplateEntryName = "Display Page Name",
				groupName = "Test Site Name",
				statusKey = "APPROVED");

			JSONLayoutpagetemplate.setLayoutPageTemplateEntryAsDefault(
				groupName = "Test Site Name",
				layoutPageTemplateEntryName = "Display Page Name",
				type = "Display Page Template");
		}

		task ("Create a blog") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Go to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Click on the title") {
			LexiconTable.clickTableEntryColumnLink(
				columnName = "title",
				tableEntry = "");

			AssertTextPresent(
				locator1 = "ContentDashboard#DISPLAY_PAGE_TITLE",
				value1 = "Blogs Entry Title");
		}
	}

	@description = "LPS-132509 Given a user with NO permissions to edit
	And a Blog entry that is not associated with a Display Page Template
	When the user clicks on the title link in the content dashboard
	Then the user cannot click on the title"
	@priority = "4"
	@uitest
	test ClickTitleBlogNoDPTWithNoPermissions {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";
		property portal.acceptance = "true";

		task ("Create a blog") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Create an User") {
			JSONUser.addUser(
				userEmailAddress = "userea@liferay.com",
				userFirstName = "userfn",
				userLastName = "userln",
				userScreenName = "usersn");

			JSONUser.setFirstPassword(
				agreeToTermsAndAnswerReminderQuery = "true",
				newPassword = "test",
				requireReset = "false",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Add a role with NO permissions") {
			JSONRole.addRegularRole(
				roleKey = "Blog Creator No Edit Permissions Test",
				roleTitle = "Blog Creator No Edit Permissions Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "VIEW_SITE_ADMINISTRATION",
				resourceName = "com.liferay.portal.kernel.model.Group",
				roleTitle = "Blog Creator No Edit Permissions Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "ACCESS_IN_CONTROL_PANEL",
				resourceName = "com_liferay_content_dashboard_web_portlet_ContentDashboardAdminPortlet",
				roleTitle = "Blog Creator No Edit Permissions Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "VIEW_CONTROL_PANEL",
				resourceName = "90",
				roleTitle = "Blog Creator No Edit Permissions Test");

			JSONRole.assignRoleToUser(
				roleTitle = "Blog Creator No Edit Permissions Test",
				userEmailAddress = "userea@liferay.com");

			User.logoutAndLoginPG(
				userLoginEmailAddress = "userea@liferay.com",
				userLoginFullName = "userfn userln");
		}

		task ("Go to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Assert the view and edit options are not available") {
			Click.waitForMenuToggleJSClick(
				key_tableEntry = "Blogs Entry Title",
				locator1 = "LexiconTable#TABLE_ENTRY_ELLIPSIS");

			AssertElementNotPresent(
				key_menuItem = "View",
				locator1 = "MenuItem#ANY_MENU_ITEM");

			AssertElementNotPresent(
				key_menuItem = "Edit",
				locator1 = "MenuItem#ANY_MENU_ITEM");
		}
	}

	@description = "LPS-132509 Given a user with permissions to edit
	And a Blog entry that is not associated with a Display Page Template
	When the user clicks on the title link in the content dashboard
	Then the user is led to the edit mode"
	@priority = "4"
	@uitest
	test ClickTitleBlogNoDPTWithPermissions {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";
		property portal.acceptance = "true";

		task ("Create a blog") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Go to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Click on the title") {
			LexiconTable.clickTableEntryColumnLink(
				columnName = "title",
				tableEntry = "");

			AssertVisible(
				locator1 = "Button#PUBLISH",
				value1 = "Publish");
		}
	}

	@description = "LPS-119966 Given a user with NO permissions to edit documents
	When the user clicks on the title link in the content dashboard
	than the user cannot click on the title"
	@priority = "4"
	@uitest
	test ClickTitleDocumentDPTWithNoPermissions {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFContentDashboardDocumentConfiguration.config";
		property osgi.module.configurations = "enabled=B\"true\"";
		property portal.acceptance = "true";

		task ("Create a default Display Page Template") {
			JSONLayoutpagetemplate.addDisplayPageTemplateEntry(
				contentType = "Document",
				displayPageTemplateEntryName = "Display Page Name",
				groupName = "Test Site Name",
				statusKey = "APPROVED",
				subType = "Basic Document");

			JSONLayoutpagetemplate.setLayoutPageTemplateEntryAsDefault(
				groupName = "Test Site Name",
				layoutPageTemplateEntryName = "Display Page Name",
				type = "Display Page Template");
		}

		task ("Add a document") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "DM Document Title",
				groupName = "Test Site Name",
				mimeType = "text/plain",
				sourceFileName = "Document_1.txt");
		}

		task ("Create an User") {
			JSONUser.addUser(
				userEmailAddress = "userea@liferay.com",
				userFirstName = "userfn",
				userLastName = "userln",
				userScreenName = "usersn");

			JSONUser.setFirstPassword(
				agreeToTermsAndAnswerReminderQuery = "true",
				newPassword = "test",
				requireReset = "false",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Add a role with NO permissions") {
			JSONRole.addRegularRole(
				roleKey = "WC Creator Edit Permissions Test",
				roleTitle = "WC Creator Edit Permissions Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "VIEW_SITE_ADMINISTRATION",
				resourceName = "com.liferay.portal.kernel.model.Group",
				roleTitle = "WC Creator Edit Permissions Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "ACCESS_IN_CONTROL_PANEL",
				resourceName = "com_liferay_content_dashboard_web_portlet_ContentDashboardAdminPortlet",
				roleTitle = "WC Creator Edit Permissions Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "VIEW_CONTROL_PANEL",
				resourceName = "90",
				roleTitle = "WC Creator Edit Permissions Test");

			JSONRole.assignRoleToUser(
				roleTitle = "WC Creator Edit Permissions Test",
				userEmailAddress = "userea@liferay.com");

			User.logoutAndLoginPG(
				userLoginEmailAddress = "userea@liferay.com",
				userLoginFullName = "userfn userln");
		}

		task ("Go to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Click on the title") {
			LexiconTable.clickTableEntryColumnLink(
				columnName = "title",
				tableEntry = "");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "DM Document Title");
		}
	}

	@description = "Given a user with permissions to edit documents
	When the user clicks on the title link in the content dashboard
	then the user is led to the edit mode"
	@priority = "4"
	@uitest
	test ClickTitleDocumentDPTWithPermissions {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFContentDashboardDocumentConfiguration.config";
		property osgi.module.configurations = "enabled=B\"true\"";
		property portal.acceptance = "true";

		task ("Create a default Display Page Template") {
			JSONLayoutpagetemplate.addDisplayPageTemplateEntry(
				contentType = "Document",
				displayPageTemplateEntryName = "Display Page Name",
				groupName = "Test Site Name",
				statusKey = "APPROVED",
				subType = "Basic Document");

			JSONLayoutpagetemplate.setLayoutPageTemplateEntryAsDefault(
				groupName = "Test Site Name",
				layoutPageTemplateEntryName = "Display Page Name",
				type = "Display Page Template");
		}

		task ("Add a document") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "DM Document Title",
				groupName = "Test Site Name",
				mimeType = "text/txt",
				sourceFileName = "Document_1.txt");
		}

		task ("Go to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Click on the title") {
			LexiconTable.clickTableEntryColumnLink(
				columnName = "title",
				tableEntry = "");

			AssertTextPresent(
				locator1 = "ContentDashboard#DISPLAY_PAGE_TITLE",
				value1 = "DM Document Title");
		}
	}

	@description = "LPS-121658 When a user with edit permissions(owner) clicks on the title of a content in status Draft, associated DPT or not, the user is led to web content editor"
	@priority = "3"
	@uitest
	test ClickTitleDraftNoDPT {
		property test.name.skip.portal.instance = "ContentDashboard#ClickTitleDraftNoDPT";

		task ("Add web content Draft") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "WC Title",
				workflowAction = "DRAFT");
		}

		task ("Go to Content Dashboard and click on the title") {
			ContentDashboard.goToContentDashboard();

			LexiconTable.clickTableEntryColumnLink(
				columnName = "title",
				tableEntry = "");
		}

		task ("Assert the web content is opened in the web content editor") {
			AssertVisible(
				locator1 = "Button#PUBLISH",
				value1 = "Publish");
		}
	}

	@description = "LPS-121658 When a user with edit permissions(owner) clicks on the title of a content in status Pending, associated DPT or not, the user is led to web content editor"
	@priority = "3"
	@uitest
	test ClickTitlePendingNoDPT {
		property test.name.skip.portal.instance = "ContentDashboard#ClickTitlePendingNoDPT";

		task ("Configure Web Content Article workflow to Single Approver") {
			Workflow.openWorkflowAdmin(siteURLKey = "test-site-name");

			Workflow.configureWorkflow(
				workflowDefinition = "Single Approver",
				workflowResourceValue = "Web Content Article");
		}

		task ("Create a Web Content") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "WC Title");
		}

		task ("Go to Content Dashboard and click on the title") {
			ContentDashboard.goToContentDashboard();

			LexiconTable.clickTableEntryColumnLink(
				columnName = "title",
				tableEntry = "");
		}

		task ("Assert the web content is opened in the web content editor") {
			AssertVisible(
				locator1 = "Button#SUBMIT_FOR_PUBLICATION",
				value1 = "Submit for Publication");
		}
	}

	@description = "LPS-121658 When a user with edit permissions(owner) clicks on the title of a content in status Scheduled, associated DPT or not, the user is led to web content editor"
	@priority = "3"
	@uitest
	test ClickTitleScheduledNoDPT {
		property test.name.skip.portal.instance = "ContentDashboard#ClickTitleScheduledNoDPT";

		task ("Create a Web Content") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "WC Title");
		}

		task ("Change display date of Web Content") {
			WebContentNavigator.openWebContentAdmin(siteURLKey = "test-site-name");

			WebContentNavigator.gotoEditCP(webContentTitle = "WC Title");

			WebContent.editDisplayDate(displayDate = "01/01/2100");

			PortletEntry.publish();
		}

		task ("Go to Content Dashboard and click on the title") {
			ContentDashboard.goToContentDashboard();

			LexiconTable.clickTableEntryColumnLink(
				columnName = "title",
				tableEntry = "");
		}

		task ("Assert the web content is opened in the web content editor") {
			AssertVisible(
				locator1 = "Button#PUBLISH",
				value1 = "Publish");
		}
	}

	@description = "LPS-162826: Add the Compare to Action to the Version History for Web Content"
	@priority = "3"
	test CompareToLastVersionWebContent {
		property custom.properties = "feature.flag.LPS-162924=true";

		task ("Given the compare screen for Web Content") {
			task ("Create a Web Content") {
				JSONWebcontent.addWebContent(
					content = "Web Content Content",
					groupName = "Test Site Name",
					title = "Web Content Title");
			}

			task ("Create a version for that web content") {
				WebContentNavigator.openWebContentAdmin(siteURLKey = "test-site-name");

				WebContentNavigator.gotoEditCP(webContentTitle = "Web Content Title");

				WebContent.editCP(
					webContentContentEdit = "Web Content Content Edit",
					webContentTitleEdit = "Web Content Title Edit");
			}

			task ("Navigate to Content Dashboard") {
				ContentDashboard.goToContentDashboard();
			}

			task ("Open info panel sidebar") {
				LexiconTable.clickEllipsisItem(
					item = "Info",
					tableEntry = "Web Content Title Edit");
			}
		}

		task ("When the access to the compare screen from the Compare to action And the most recent version of a Web Content is the one selected") {
			ContentDashboard.openVersionsTab();

			ContentDashboard.clickMenuOfVersion(
				item = "Compare to...",
				versionName = "Version 1.1");
		}

		task ("Then this version should be compared to itself") {
			AssertTextEquals(
				locator1 = "WCViewHistory#COMPARED_VERSION_NEWER",
				value1 = "Version 1.1");

			AssertTextEquals(
				locator1 = "WCViewHistory#COMPARED_VERSION_OLDER",
				value1 = "Version 1.1");
		}
	}

	@description = "LPS-162826: Add the Compare to Action to the Version History for Web Content"
	@priority = "3"
	test CompareToVersionWebContent {
		property custom.properties = "feature.flag.LPS-162924=true";

		task ("Given the Versions tab in the Info panel of a Web Content") {
			task ("Create a Web Content") {
				JSONWebcontent.addWebContent(
					content = "Web Content Content",
					groupName = "Test Site Name",
					title = "Web Content Title");
			}

			task ("Create a version for that web content") {
				WebContentNavigator.openWebContentAdmin(siteURLKey = "test-site-name");

				WebContentNavigator.gotoEditCP(webContentTitle = "Web Content Title");

				WebContent.editCP(
					webContentContentEdit = "Web Content Content Edit",
					webContentTitleEdit = "Web Content Title Edit");
			}

			task ("Navigate to Content Dashboard") {
				ContentDashboard.goToContentDashboard();
			}

			task ("Open info panel sidebar") {
				LexiconTable.clickEllipsisItem(
					item = "Info",
					tableEntry = "Web Content Title Edit");
			}
		}

		task ("When the user opens the kebab menu of a version And the user clicks on the Compare to action") {
			ContentDashboard.openVersionsTab();

			ContentDashboard.clickMenuOfVersion(
				item = "Compare to...",
				versionName = "Version 1.0");
		}

		task ("Then the user is redirected to the compare screen for Web Content") {
			AssertTextEquals(
				locator1 = "WCViewHistory#VIEW_COMPARE_VERSIONS_CONTENT",
				value1 = "Web Content Content Edit");
		}
	}

	@description = "Given a document created in an Asset Library
	When the user goes to the content dashboard
	Then the user can see the document listed"
	@priority = "5"
	test DocumentFromAssetLibraryIsListed {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFContentDashboardDocumentConfiguration.config";
		property osgi.module.configurations = "enabled=B\"true\"";
		property portal.acceptance = "true";

		task ("Add an Asset Library") {
			JSONDepot.addDepot(
				depotDescription = "This is the description",
				depotName = "Test Depot Name");
		}

		task ("Add a document to the previous Asset Library created") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentDescription = "DM Document Description",
				dmDocumentTitle = "DM Document Asset Library 1",
				groupName = "Test Depot Name",
				mimeType = "image/jpeg",
				sourceFileName = "Document_2.jpg");
		}

		task ("Go to the Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Assert that both documents appear in the table") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "DM Document Asset Library 1");
		}

		task ("Delete the Asset Library") {
			JSONDepot.deleteDepot(depotName = "Test Depot Name");
		}
	}

	@description = " Given a document with and associated Display Page Template
	When the user with permissions clicks on the view button
	Then the user is lead to the view mode"
	@priority = "4"
	test DocumentIconView {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFContentDashboardDocumentConfiguration.config";
		property osgi.module.configurations = "enabled=B\"true\"";
		property portal.acceptance = "true";

		task ("Create a default Display Page Template") {
			JSONLayoutpagetemplate.addDisplayPageTemplateEntry(
				contentType = "Document",
				displayPageTemplateEntryName = "Display Page Name",
				groupName = "Test Site Name",
				statusKey = "APPROVED",
				subType = "Basic Document");

			JSONLayoutpagetemplate.setLayoutPageTemplateEntryAsDefault(
				groupName = "Test Site Name",
				layoutPageTemplateEntryName = "Display Page Name",
				type = "Display Page Template");
		}

		task ("Add a document") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "DM Document Title",
				groupName = "Test Site Name",
				mimeType = "text/txt",
				sourceFileName = "Document_1.txt");
		}

		task ("Add a Heading fragment to display page template") {
			DisplayPageTemplatesAdmin.openDisplayPagesAdmin(siteURLKey = "test-site-name");

			DisplayPageTemplatesAdmin.gotoDisplayPage(displayPageName = "Display Page Name");

			PageEditor.addFragment(
				collectionName = "Basic Components",
				fragmentName = "Heading");
		}

		task ("Map custom field to editable field of Heading") {
			PageEditorMapping.mapEditableTextToField(
				field = "Title",
				fragmentName = "Heading",
				id = "element-text");

			PageEditor.publish();
		}

		task ("Go to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Click on the View icon and check the user is lead to the Display Page") {
			ContentDashboard.clickQuickActionIcon(iconName = "View");
		}

		task ("Assert the View Mode") {
			ContentPages.viewFragmentText(
				fragmentName = "heading",
				id = "element-text",
				text = "DM Document Title");
		}
	}

	@description = "LPS-119966 Given the Content Dashboard
	When a document is listed in the assets list
	Then the following metadata are shown: Title, Author (Owner), Subtype, Site or Asset Library, Status, Category 1, Category 2, Modified Date"
	@priority = "3"
	test DocumentMetadata {
		task ("Create a category for Audiente and Staged") {
			JSONCategory.addCategory(
				groupName = "Global",
				title = "Category1",
				vocabularyName = "Audience");

			JSONCategory.addCategory(
				groupName = "Global",
				title = "Category2",
				vocabularyName = "Stage");
		}

		task ("Create a Document using JSONWS") {
			JSONDocument.addFile(
				dmDocumentDescription = "DM Document Description",
				dmDocumentTitle = "DM Document Title",
				groupName = "Test Site Name");
		}

		task ("Navigate to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Assert columns displayed") {
			for (var columnHeader : list "Title,Author,Subtype,Site or Asset Library,Status,Audience,Stage,Modified Date") {
				AssertVisible(
					key_tableHeader = "${columnHeader}",
					locator1 = "LexiconTable#TABLE_HEADER");
			}
		}
	}

	@description = "Given a document created in site A in the instance, and another one created in the site B
	When the user goes to the content dashboard
	Then the user can see both listed"
	@priority = "5"
	test DocumentsFromDifferentSitesAreListed {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFContentDashboardDocumentConfiguration.config";
		property osgi.module.configurations = "enabled=B\"true\"";
		property portal.acceptance = "true";

		task ("Add two different sites") {
			JSONGroup.addGroup(groupName = "Site Name 1");

			JSONGroup.addGroup(groupName = "Site Name 2");
		}

		task ("Add a document for each site") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "DM Document Site 1",
				groupName = "Site Name 1",
				mimeType = "text/txt",
				sourceFileName = "Document_1.txt");

			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "DM Document Site 2",
				groupName = "Site Name 2",
				mimeType = "text/txt",
				sourceFileName = "Document_2.txt");
		}

		task ("Go to the Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Assert that both documents appear in the table") {
			AssertTextEquals(
				key_tableEntry = "DM Document Site 1",
				locator1 = "LexiconTable#TABLE_ENTRY_TITLE_LINK",
				value1 = "DM Document Site 1");

			AssertTextEquals(
				key_tableEntry = "DM Document Site 2",
				locator1 = "LexiconTable#TABLE_ENTRY_TITLE_LINK",
				value1 = "DM Document Site 2");
		}

		task ("Delete sites created") {
			JSONGroup.deleteGroupByName(groupName = "Site Name 1");

			JSONGroup.deleteGroupByName(groupName = "Site Name 2");
		}
	}

	@description = "LPS-151065 Given a Document asset using a New Document Type
    When the user opens Info Panel at Content Dashboard
    Then 'Document - ' and structure's name text will be exhibit"
	@priority = "3"
	test DocumentTypeInInfoPanel {
		task ("Add a document type") {
			DMNavigator.openDocumentTypesAdmin(siteURLKey = "test-site-name");

			DMDocumentType.add(
				dmDocumentTypeDescription = "DM Document Type Description",
				dmDocumentTypeFieldNames = "Text",
				dmDocumentTypeName = "DM Document Type Name");
		}

		task ("Add a document") {
			DMDocument.openDocumentsAndMediaAdmin(siteURLKey = "test-site-name");

			DMDocument.addCP(
				dmDocumentDescription = "DM Document Description",
				dmDocumentTitle = "DM Document Title",
				dmDocumentTypeName = "DM Document Type Name",
				textField = "DM Document Text");
		}

		task ("Navigate to Content Dashbaord") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Go to Content Dashboard and check the type in the Info panel") {
			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "DM Document Title");

			AssertTextPresent(
				locator1 = "ContentDashboard#INFO_PANEL_ASSET_TYPE",
				value1 = "Document - DM Document Type Name");
		}
	}

	@description = "LPS-119966 Given a document with and associated Display Page Template
	When the user with permissions clicks on the info panel button
	Then the user is lead to the info panel"
	@priority = "4"
	test DocumentViewInfoPanel {
		property portal.acceptance = "true";

		task ("Create a new Document") {
			JSONDocument.addFile(
				dmDocumentDescription = "DM Document Description",
				dmDocumentTitle = "DM Document Title",
				groupName = "Test Site Name");
		}

		task ("Go to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Open the Info panel") {
			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "DM Document Title");

			AssertVisible(locator1 = "ContentDashboard#INFO_PANEL");

			AssertTextPresent(
				locator1 = "ContentDashboard#INFO_PANEL_TITLE",
				value1 = "DM Document Title");
		}
	}

	@description = "LPS-161017: Add the Download Action to the Version History for Documents and Media"
	@priority = "4"
	test DownloadDocumentFromVersionsTab {
		property custom.properties = "feature.flag.LPS-162924=true";

		task ("Given the Versions tab in the Info panel of a document") {
			task ("Create a Document") {
				JSONDocument.addFileWithUploadedFile(
					dmDocumentDescription = "DM Document Description",
					dmDocumentTitle = "DM Document Title",
					groupName = "Test Site Name",
					mimeType = "text/plain",
					sourceFileName = "Document_1.txt");
			}

			task ("Add versions for the document") {
				DMNavigator.openDocumentsAndMediaAdmin(siteURLKey = "test-site-name");

				DMDocument.editCP(
					dmDocumentTitle = "DM Document Title",
					dmDocumentTitleEdit = "DM Document Title Edit 1",
					revision = "Minor",
					versioning = "true");
			}

			task ("Navigate to Content Dashboard") {
				ContentDashboard.goToContentDashboard();
			}

			task ("Open info panel sidebar") {
				LexiconTable.clickEllipsisItem(
					item = "Info",
					tableEntry = "DM Document Title Edit 1");
			}

			task ("Open versions tab") {
				ContentDashboard.openVersionsTab();
			}
		}

		task ("When the user opens the kebab menu of a version And the user clicks on the Download action") {
			ContentDashboard.clickMenuOfVersion(
				item = "Download",
				versionName = "Version 1.0");
		}

		task ("Then the version of that document is downloaded") {
			DMDocument.assertFileNameFromTempFolder(fileName = "Document_1.txt");
		}
	}

	@description = " Given a document with and associated Display Page Template
	When the user with permissions clicks on the edit button
	Then the user is lead to the edit mode"
	@priority = "4"
	test EditBlog {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";
		property portal.acceptance = "true";

		task ("Create a blog") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Go to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Edit the Blog") {
			ContentDashboard.editAsset(
				assetNewTitle = "Blogs Entry Title Edited",
				assetTitle = "Blogs Entry Title");
		}

		task ("Assert the document has been edited") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Blogs Entry Title");
		}
	}

	@description = " Given a document with and associated Display Page Template
	When the user with permissions clicks on the edit button
	Then the user is lead to the edit mode"
	@priority = "4"
	test EditDocument {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFContentDashboardDocumentConfiguration.config";
		property osgi.module.configurations = "enabled=B\"true\"";
		property portal.acceptance = "true";

		task ("Add a document") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "DM Document Title",
				groupName = "Test Site Name",
				mimeType = "text/txt",
				sourceFileName = "Document_1.txt");
		}

		task ("Go to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Edit the document") {
			ContentDashboard.editAsset(
				assetNewTitle = "DM Document Title Edited",
				assetTitle = "DM Document Title");
		}

		task ("Assert the document has been edited") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "DM Document Title Edited");
		}
	}

	@description = "Validate if the user can edit a web content through the Edit option"
	@priority = "5"
	test EditWebContent {
		property portal.acceptance = "true";

		task ("Create a Web Content") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "WC Title");
		}

		task ("Go to edit the asset") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.editAsset(
				assetNewTitle = "WC Title Edited",
				assetTitle = "WC Title");
		}

		task ("Assert in title was porperty edited") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "WC Title Edited");
		}
	}

	@description = "Validate if the user can access to the Content Dashboard after s/he has expired a Web Content"
	@priority = "5"
	test ExpiredWebContent {
		property portal.acceptance = "true";

		task ("Create expired Web Content") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "WC Title");

			JSONWebcontent.updateStatus(
				groupName = "Test Site Name",
				statusKey = "EXPIRE",
				title = "WC Title");
		}

		task ("View experired assset in Content Dashboard") {
			ContentDashboard.goToContentDashboard();

			AssertTextPresent(
				assetName = "WC Title",
				locator1 = "ContentDashboard#ASSET_STATUS_LABEL",
				value1 = "EXPIRED");
		}
	}

	@description = "LPS-162827 Given the kebab menu of a web content with just one version
	When the user clicks on Expire option
	Then the web content is expired and it changes its status to Expired"
	@priority = "4"
	test ExpireVersionLabel {
		property custom.properties = "feature.flag.LPS-162924=true";

		task ("Create a Web Content") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "WC Title");
		}

		task ("Go to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Open the info panel and go to the versions tab") {
			ContentDashboard.clickQuickActionIcon(iconName = "Info");

			ContentDashboard.openVersionsTab();
		}

		task ("Expire the web content version") {
			ContentDashboard.clickMenuOfVersion(
				item = "Expire",
				versionName = "Version 1.0");
		}

		task ("Check the Expire label is present for the web content") {
			AssertTextPresent(
				assetName = "WC Title",
				locator1 = "ContentDashboard#ASSET_STATUS_LABEL",
				value1 = "EXPIRED");
		}
	}

	@description = "LPS-124236 Given the Content Dashboard
	When there are no contents in the list
	Then the Export XLS button is disabled"
	@priority = "3"
	test ExportXLSDisabled {
		task ("Go to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Assert the Export XLS button is disabled") {
			AssertNotEditable(
				key_text = "Export XLS",
				locator1 = "Button#ANY");
		}
	}

	@description = "LPS-150558 Given The Filter and Order dropdown
	When the user selects the option Filter by Author: All
	Then the list of contents displays content from all users featured in the user's content dashboard view, including Blogs"
	@priority = "5"
	test FilterBlogByAuthorAll {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";
		property portal.acceptance = "true";

		task ("Create a blog") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Navigate to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Filter by author Me and assert asset displayed") {
			ContentDashboard.filterByAuthorAll(filterOption = "All");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Blogs Entry Title");
		}
	}

	@description = "LPS-150558 Given The Filter and Order dropdown
	When the user selects the option Filter by Author: Me
	Then the list of contents displays content where the user is the creator, including Blogs"
	@priority = "5"
	test FilterBlogByAuthorMe {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";
		property portal.acceptance = "true";

		task ("Create a blog") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Navigate to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Filter by author Me and assert asset displayed") {
			ContentDashboard.filterByAuthorMe(filterOption = "Me");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Blogs Entry Title");
		}
	}

	@description = "LPS-150558 Given The Filter and Order dropdown
	When the user selects the option Filter by Author: Author
	And the user selects one or more authors
	Then the list of contents displays content where the selected users are the last editors of the approved version, including Blogs"
	@priority = "5"
	test FilterBlogByAuthorOther {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";
		property portal.acceptance = "true";

		task ("Create a blog") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Navigate to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Filter by author Me and assert asset displayed") {
			ContentDashboard.filterByAuthor();

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Blogs Entry Title");
		}
	}

	@description = "LPS-150558 Given The Filter by... > Category
	When the user clicks on several categories and clicks Save
	Then the content list in the Content Dashboard filters accordingly, including Blogs"
	@priority = "5"
	test FilterBlogByCategory {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";
		property portal.acceptance = "true";

		task ("Add a public vocabulary for Test Site Name") {
			JSONCategory.addVocabulary(
				groupName = "Test Site Name",
				title = "Vocabulary Name");
		}

		task ("Create a category for Vocabulary Internal") {
			var categoryId1 = JSONCategory.addCategory(
				groupName = "Test Site Name",
				title = "Category Name",
				vocabularyName = "Vocabulary Name");
		}

		task ("Create a blog") {
			JSONBlog.addEntry(
				assetCategoryIds = "${categoryId1}",
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		ContentDashboard.goToContentDashboard();

		task ("Filter by category") {
			ContentDashboard.filterByCategory(categoryNameList = "Category Name");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Blogs Entry Title");
		}
	}

	@description = "LPS-150558 Given The Filter by... > Sites and Asset Libraries
	When the user selects one site or asset library within the modal
	Then the list of contents that match the site or asset library selected is displayed, including Blogs"
	@priority = "5"
	test FilterBlogBySite {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";
		property portal.acceptance = "true";

		task ("Create a blog") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Filter asset by Global Site status in Content Dashboard") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterBySite(siteName = "Test Site Name");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Blogs Entry Title");
		}
	}

	@description = "LPS-150553: Add Filtering by Status in Content Dashboard for Blogs"
	@priority = "4"
	test FilterBlogByStatusAndAuthor {
		task ("Given the Filter and Order dropdown") {
			task ("Create a blog with the tag") {
				JSONBlog.addEntry(
					entryContent = "Blogs Entry Content",
					entryTitle = "Blogs Entry Title",
					groupName = "Test Site Name");
			}

			task ("Go to Content Dashboard") {
				ContentDashboard.goToContentDashboard();
			}
		}

		task ("When the user selects the option Filter by Status and another filter") {
			ContentDashboard.filterByStatus(filterOption = "Approved");

			ContentDashboard.filterByAuthorMe(filterOption = "Me");
		}

		task ("Then the list is filtered displaying only contents included in both filters, including Blogs") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Blogs Entry Title");
		}
	}

	@description = "LPS-150553: Add Filtering by Status in Content Dashboard for Blogs"
	@priority = "5"
	test FilterBlogByStatusApproved {
		task ("Given The Filter and Order dropdown") {
			task ("Create an approved blog") {
				JSONBlog.addEntry(
					entryContent = "Blogs Entry Content",
					entryTitle = "Blogs Entry Title",
					groupName = "Test Site Name");
			}

			task ("Go to Content Dashboard") {
				ContentDashboard.goToContentDashboard();
			}
		}

		task ("When the user selects the option Filter by Status: Approved") {
			ContentDashboard.filterByStatus(filterOption = "Approved");
		}

		task ("Then the list is filtered displaying only contents labeled as Approved, including Blogs") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Blogs Entry Title");
		}
	}

	@description = "LPS-150553: Add Filtering by Status in Content Dashboard for Blogs"
	@priority = "5"
	test FilterBlogByStatusDraft {
		task ("Given The Filter and Order dropdown") {
			task ("Create an approved blog") {
				JSONBlog.addEntry(
					entryContent = "Blogs Entry Content",
					entryTitle = "Blogs Entry Title",
					groupName = "Test Site Name",
					workflowAction = "DRAFT");
			}

			task ("Go to Content Dashboard") {
				ContentDashboard.goToContentDashboard();
			}
		}

		task ("When the user selects the option Filter by Status: Draft") {
			ContentDashboard.filterByStatus(filterOption = "Draft");
		}

		task ("Then the list is filtered displaying only contents labeled as Draft, including Blogs") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Blogs Entry Title");
		}
	}

	@description = "LPS-150553: Add Filtering by Status in Content Dashboard for Blogs"
	@priority = "5"
	test FilterBlogByStatusScheduled {
		task ("Given The Filter and Order dropdown") {
			task ("Create an approved blog") {
				JSONBlog.addEntry(
					displayDate = "true",
					entryContent = "Blogs Entry Content",
					entryTitle = "Blogs Entry Title",
					groupName = "Test Site Name",
					increaseYears = "1");
			}

			task ("Go to Content Dashboard") {
				ContentDashboard.goToContentDashboard();
			}
		}

		task ("When the user selects the option Filter by Status: Scheduled'") {
			ContentDashboard.filterByStatus(filterOption = "Scheduled");
		}

		task ("Then the list is filtered displaying only contents labeled as Scheduled, including Blogs") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Blogs Entry Title");
		}
	}

	@description = "LPS-150558 Given The Filter by... > Tags
	When the user clicks on several tags and clicks Save
	Then the content list in the Content Dashboard filters accordingly, including Blogs"
	@priority = "5"
	test FilterBlogByTag {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";
		property portal.acceptance = "true";

		task ("Create a blog with the tag") {
			JSONBlog.addEntry(
				assetTagNames = "tagname",
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Filter by tag at Content Dashboard") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByTag(tagName = "tagname");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Blogs Entry Title");
		}
	}

	@description = "Validate if the user can filter by Author, using different display types"
	@priority = "5"
	test FilterByAuthor {
		property portal.acceptance = "true";

		task ("Create a Web Content") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "WC Title");
		}

		ContentDashboard.goToContentDashboard();

		task ("Filter author using table") {
			ContentDashboard.filterByAuthor();

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "WC Title");
		}

		task ("Filter author using list") {
			ContentDashboard.clearFilters();

			ContentDashboard.filterByAuthor(viewOption = "List");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "WC Title");
		}

		task ("Filter author using cards") {
			ContentDashboard.clearFilters();

			ContentDashboard.filterByAuthor(viewOption = "Cards");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "WC Title");
		}
	}

	@description = "LPS-124960 When there's a WebContent1 authored by Author1 and has Category1 and Category2 and a WebContent2 authored by Author2 and has Category1, and the user filters by Author1 and Category1 and Category2, only the WebContent1 is shown in the list"
	@priority = "3"
	test FilterByCategoriesAndAuthor {
		property custom.properties = "jsonws.web.service.paths.excludes=";

		task ("Create two categories") {
			var categoryId1 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Category1",
				vocabularyName = "Audience");
			var categoryId2 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Category2",
				vocabularyName = "Audience");
		}

		task ("Create an user via JSONWS") {
			JSONUser.addUser(
				userEmailAddress = "userea@liferay.com",
				userFirstName = "userfn",
				userLastName = "userln",
				userScreenName = "usersn");

			JSONUser.setFirstPassword(
				agreeToTermsAndAnswerReminderQuery = "true",
				requireReset = "false",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Assign site role to user") {
			JSONUser.addUserToSite(
				groupName = "Test Site Name",
				userEmailAddress = "userea@liferay.com");

			JSONRole.assignSiteRoleToUser(
				groupName = "Test Site Name",
				roleTitle = "Site Owner",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Create a web content with Test Test via JSONWS") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId1},${categoryId2}",
				content = "Web Content Content",
				groupName = "Test Site Name",
				title = "Web Content Title 1");
		}

		task ("Create a web content with created user via JSONWS") {
			User.logoutAndLoginPG(
				userLoginEmailAddress = "userea@liferay.com",
				userLoginFullName = "userfn userln");

			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId1}",
				content = "Web Content Content",
				groupName = "Test Site Name",
				title = "Web Content Title 2",
				userEmailAddress = "userea@liferay.com",
				userPassword = "test");
		}

		task ("Login with Admin user") {
			User.logoutAndLoginPG(
				userLoginEmailAddress = "test@liferay.com",
				userLoginFullName = "Test Test");
		}

		task ("Navigate to Content Dashbaord") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Filter by Category: Category1 and Category2") {
			ContentDashboard.filterByCategory(categoryNameList = "Category1,Category2");
		}

		task ("Filter by Author: Test test") {
			ContentDashboard.filterByAuthor();
		}

		task ("Assert if only one asset is displayed") {
			AssertTextEquals(
				key_tableEntry = "Web Content Title 1",
				locator1 = "LexiconTable#TABLE_ENTRY_TITLE",
				value1 = "Web Content Title 1");

			AssertElementNotPresent(
				key_tableEntry = "Web Content Title 2",
				locator1 = "LexiconTable#TABLE_ENTRY");
		}
	}

	@description = "Validate if the user can filter by category"
	@priority = "5"
	test FilterByCategory {
		property portal.acceptance = "true";

		task ("Create a vocabulary and a category for it") {
			JSONCategory.addVocabulary(
				groupName = "Test Site Name",
				title = "Vocabulary Name");

			var categoryId = JSONCategory.addCategory(
				groupName = "Test Site Name",
				title = "Category Name",
				vocabularyName = "Vocabulary Name");
		}

		task ("Create a Web Content using the category created") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId}",
				content = "WC WebContent Content",
				groupName = "Test Site Name",
				title = "WC WebContent Title");
		}

		ContentDashboard.goToContentDashboard();

		task ("Filter by category") {
			ContentDashboard.filterByCategory(categoryNameList = "Category Name");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "WC WebContent Title");
		}
	}

	@description = "LPS-124960 When there's a WebContent1 authored by Author1 and has Category1 and Category2 and a WebContent2 authored by Author2 and has Category1, and the user filters by Author1 and Category1, only the WebContent1 is shown in the list"
	@priority = "3"
	test FilterByCategoryAndAuthor {
		property custom.properties = "jsonws.web.service.paths.excludes=";

		task ("Create two categories") {
			var categoryId1 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Category1",
				vocabularyName = "Audience");
			var categoryId2 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Category2",
				vocabularyName = "Audience");
		}

		task ("Create an user via JSONWS") {
			JSONUser.addUser(
				userEmailAddress = "userea@liferay.com",
				userFirstName = "userfn",
				userLastName = "userln",
				userScreenName = "usersn");

			JSONUser.setFirstPassword(
				agreeToTermsAndAnswerReminderQuery = "true",
				requireReset = "false",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Assign site role to user") {
			JSONUser.addUserToSite(
				groupName = "Test Site Name",
				userEmailAddress = "userea@liferay.com");

			JSONRole.assignSiteRoleToUser(
				groupName = "Test Site Name",
				roleTitle = "Site Owner",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Create a web content with Test Test via JSONWS") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId1},${categoryId2}",
				content = "Web Content Content",
				groupName = "Test Site Name",
				title = "Web Content Title 1");
		}

		task ("Create a web content with created user via JSONWS") {
			User.logoutAndLoginPG(
				userLoginEmailAddress = "userea@liferay.com",
				userLoginFullName = "userfn userln");

			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId1}",
				content = "Web Content Content",
				groupName = "Test Site Name",
				title = "Web Content Title 2",
				userEmailAddress = "userea@liferay.com",
				userPassword = "test");
		}

		task ("Login with Admin user") {
			User.logoutAndLoginPG(
				userLoginEmailAddress = "test@liferay.com",
				userLoginFullName = "Test Test");
		}

		task ("Navigate to Content Dashbaord") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Filter by Category: Category1") {
			ContentDashboard.filterByCategory(categoryNameList = "Category1");
		}

		task ("Filter by Author: Test test") {
			ContentDashboard.filterByAuthor();
		}

		task ("Assert if only one asset is displayed") {
			AssertTextEquals(
				key_tableEntry = "Web Content Title 1",
				locator1 = "LexiconTable#TABLE_ENTRY_TITLE",
				value1 = "Web Content Title 1");

			AssertElementNotPresent(
				key_tableEntry = "Web Content Title 2",
				locator1 = "LexiconTable#TABLE_ENTRY");
		}
	}

	@description = "LPS-124960 When there's a WebContent1 authored by Author1 and has Category1 and Category2 and a WebContent2 authored by Author2 and has Category1, and the user filters by Author1, Author2 and Category1, both web content are shown in the list"
	@priority = "3"
	test FilterByCategoryAndAuthors {
		property custom.properties = "jsonws.web.service.paths.excludes=";

		task ("Create two categories") {
			var categoryId1 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Category1",
				vocabularyName = "Audience");
			var categoryId2 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Category2",
				vocabularyName = "Audience");
		}

		task ("Create an user via JSONWS") {
			JSONUser.addUser(
				userEmailAddress = "userea@liferay.com",
				userFirstName = "userfn",
				userLastName = "userln",
				userScreenName = "usersn");

			JSONUser.setFirstPassword(
				agreeToTermsAndAnswerReminderQuery = "true",
				requireReset = "false",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Assign site role to user") {
			JSONUser.addUserToSite(
				groupName = "Test Site Name",
				userEmailAddress = "userea@liferay.com");

			JSONRole.assignSiteRoleToUser(
				groupName = "Test Site Name",
				roleTitle = "Site Owner",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Create a web content with Test Test via JSONWS") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId1},${categoryId2}",
				content = "Web Content Content",
				groupName = "Test Site Name",
				title = "Web Content Title 1");
		}

		task ("Create a web content with created user via JSONWS") {
			User.logoutAndLoginPG(
				userLoginEmailAddress = "userea@liferay.com",
				userLoginFullName = "userfn userln");

			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId1}",
				content = "Web Content Content",
				groupName = "Test Site Name",
				title = "Web Content Title 2",
				userEmailAddress = "userea@liferay.com",
				userPassword = "test");
		}

		task ("Login with Admin user") {
			User.logoutAndLoginPG(
				userLoginEmailAddress = "test@liferay.com",
				userLoginFullName = "Test Test");
		}

		task ("Navigate to Content Dashbaord") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Filter by Category: Category1") {
			ContentDashboard.filterByCategory(categoryNameList = "Category1");
		}

		task ("Filter by Author: Test test and userfn userln") {
			ContentDashboard.filterByAuthor(authorNameList = "Test,userfn");
		}

		task ("Assert if both assets are displayed") {
			AssertTextEquals(
				key_tableEntry = "Web Content Title 1",
				locator1 = "LexiconTable#TABLE_ENTRY_TITLE",
				value1 = "Web Content Title 1");

			AssertTextEquals(
				key_tableEntry = "Web Content Title 2",
				locator1 = "LexiconTable#TABLE_ENTRY_TITLE",
				value1 = "Web Content Title 2");
		}
	}

	@description = "LPS-124960 When there's a WebContent1 that has Tag1, Category1 and Category2 and a WebContent2 that has Tag2 and Category1, and the user filters by Tag1 and Category1, both web content are shown in the list"
	@priority = "3"
	test FilterByCategoryAndTag {
		task ("Create two categories") {
			var categoryId1 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Category1",
				vocabularyName = "Audience");
			var categoryId2 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Category2",
				vocabularyName = "Audience");
		}

		task ("Create a web content that has Tag1, Category1 and Category2 via JSONWS") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId1},${categoryId2}",
				assetTagNames = "tagnumber1",
				content = "Web Content Content",
				groupName = "Test Site Name",
				title = "Web Content Title 1");
		}

		task ("Create a web content that has Tag2 and Category1 via JSONWS") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId1}",
				assetTagNames = "tagnumber2",
				content = "Web Content Content",
				groupName = "Test Site Name",
				title = "Web Content Title 1");
		}

		task ("Navigate to Content Dashbaord") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Filter by Category: Category1") {
			ContentDashboard.filterByCategory(categoryNameList = "Category1");
		}

		task ("Filter by Tag: tagnumber1") {
			ContentDashboard.filterByTag(tagName = "tagnumber1");
		}

		task ("Assert if only one asset is displayed") {
			AssertTextEquals(
				key_tableEntry = "Web Content Title 1",
				locator1 = "LexiconTable#TABLE_ENTRY_TITLE",
				value1 = "Web Content Title 1");

			AssertElementNotPresent(
				key_tableEntry = "Web Content Title 2",
				locator1 = "LexiconTable#TABLE_ENTRY");
		}
	}

	@description = "LPS-146550 Bug: Filter by extension does not shown any result after duplicate a MIME type"
	@priority = "4"
	test FilterByDuplicatedMimeType {
		property portal.acceptance = "true";
		property test.name.skip.portal.instance = "ContentDashboard#FilterByDuplicatedMimeType";

		task ("Add documents with different mime types") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "Document_Audio",
				groupName = "Test Site Name",
				mimeType = "audio/mp3",
				sourceFileName = "Document_1.mp3");

			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "Document_Code",
				groupName = "Test Site Name",
				mimeType = "code/html",
				sourceFileName = "fragment_freemarker_basic.html");

			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "Document_Presentation",
				groupName = "Test Site Name",
				mimeType = "application/powerpoint",
				sourceFileName = "Document_1.pptx");

			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "Document_Text",
				groupName = "Test Site Name",
				mimeType = "text/txt",
				sourceFileName = "Document_1.txt");
		}

		task ("Check, in Content Dashboard, that types are correctly displayed in filter") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.openFilterModal(filterOption = "Extension");

			ContentDashboard.checkMimeExtensionDisplayed(typeNameList = "Audio,Code,Presentation,Text");
		}

		task ("Add new duplicated extention") {
			SystemSettings.openSystemSettingsAdmin();

			SystemSettings.gotoConfiguration(
				configurationCategory = "Documents and Media",
				configurationName = "Service",
				configurationScope = "System Scope");

			ContentDashboard.addMimeType(typeName = "text/html");
		}

		task ("Check that types are still displayed correctly") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.openFilterModal(filterOption = "Extension");

			AssertVisible(
				key_nodeName = "Audio",
				locator1 = "Treeview#NODE_ITEM_2");

			AssertVisible(
				key_nodeName = "Code",
				locator1 = "Treeview#NODE_ITEM_2");

			AssertVisible(
				key_nodeName = "Presentation",
				locator1 = "Treeview#NODE_ITEM_2");

			AssertVisible(
				key_nodeName = "Text",
				locator1 = "Treeview#NODE_ITEM_2");
		}
	}

	@description = "Validate if the user can filter by multiple tags"
	@priority = "5"
	test FilterByMultipleTags {
		property portal.acceptance = "true";

		task ("Create a Web Content with 2 tags") {
			JSONWebcontent.addWebContent(
				assetTagNames = "tagnumber1,tagnumber2",
				content = "Web Content With Tag1 and Tag2",
				groupName = "Test Site Name",
				title = "WC Title 1");
		}

		task ("Create a Web Content with 1 tag") {
			JSONWebcontent.addWebContent(
				assetTagNames = "tagnumber1",
				content = "Web Content With Tag1",
				groupName = "Test Site Name",
				title = "WC Title 2");
		}

		task ("Filter asset by tag in Content Dashboard") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByTag(tagName = "tagnumber1");

			ContentDashboard.filterByTag(tagName = "tagnumber2");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "WC Title 1");
		}
	}

	@description = "Validate if the user can filter by Site"
	@priority = "5"
	test FilterBySite {
		property portal.acceptance = "true";

		task ("Add a Web Contentto Global Site") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Global",
				title = "WC Title Global");
		}

		task ("Filter asset by Global Site status in Content Dashboard") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterBySite(siteName = "Global");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "WC Title Global");
		}
	}

	@description = "Validate if the user can filter by Status: Any"
	@priority = "5"
	test FilterByStatusAny {
		property portal.acceptance = "true";

		task ("Add approved and draft Web Contents") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "WC Title Approved");

			JSONWebcontent.addWebContent(
				content = "WC WebContent Content",
				groupName = "Test Site Name",
				title = "WC Title Draft",
				workflowAction = "DRAFT");
		}

		task ("Filter asset by Any status in Content Dashboard") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByStatus(filterOption = "Any");

			AssertTextEquals(
				key_tableEntry = "WC Title Approved",
				locator1 = "LexiconTable#TABLE_ENTRY_TITLE_LINK",
				value1 = "WC Title Approved");

			AssertTextEquals(
				key_tableEntry = "WC Title Draft",
				locator1 = "LexiconTable#TABLE_ENTRY_TITLE_LINK",
				value1 = "WC Title Draft");
		}
	}

	@description = "Validate if the user can filter by Status: Approved"
	@priority = "5"
	test FilterByStatusApproved {
		property portal.acceptance = "true";

		task ("Create a Approved Web Content") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "WC Title Approved");
		}

		task ("Filter asset by Aproved status in Content Dashboard") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByStatus(filterOption = "Approved");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "WC Title Approved");
		}
	}

	@description = "Validate if the user can filter by Status: Draft"
	@priority = "5"
	test FilterByStatusDraft {
		property portal.acceptance = "true";

		task ("Create a Draft Web Content") {
			JSONWebcontent.addWebContent(
				content = "WC WebContent Content",
				groupName = "Test Site Name",
				title = "WC Title Draft",
				workflowAction = "DRAFT");
		}

		task ("Filter asset by Draft status in Content Dashboard") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByStatus(filterOption = "Draft");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "WC Title Draft");
		}
	}

	@description = "LPS-161330: Add Filtering by Expired Status to the Content Dashboard"
	@priority = "5"
	test FilterByStatusExpiredDocument {
		property custom.properties = "company.default.time.zone=America/Los_Angeles";
		property portal.acceptance = "true";
		property test.name.skip.portal.instance = "ContentDashboard#FilterByStatusExpiredDocument";

		task ("Given an expired Document asset") {
			task ("Set update interval") {
				DMDocument.updateCheckInterval(fieldValue = "1");
			}

			task ("Create a Document") {
				JSONDocument.addFileWithUploadedFile(
					dmDocumentDescription = "DM Document Description",
					dmDocumentTitle = "Document_1.txt",
					groupName = "Test Site Name",
					mimeType = "text/plain",
					sourceFileName = "Document_1.txt");
			}

			task ("Expire the Document") {
				DMNavigator.openToEditEntryInSite(
					dmDocumentTitle = "Document_1.txt",
					groupName = "Test Site Name",
					siteURLKey = "test-site-name");

				DMDocument.setExpirationDate(
					enableExpirationDate = "true",
					increaseMinutes = "1");
			}

			task ("Wait for document to expire") {
				Navigator.openURL();

				Notifications.waitForNotificationFlexibly(flexibleRefreshingTime = "3000");

				Notifications.viewBadgeCount(notificationCount = "1");
			}
		}

		task ("When the user filters by Expired status") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByStatus(filterOption = "Expired");
		}

		task ("Then the asset is exhibited") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "");
		}
	}

	@description = "LPS-161330: Add Filtering by Expired Status to the Content Dashboard"
	@priority = "5"
	test FilterByStatusExpiredWebContent {
		property portal.acceptance = "true";

		task ("Given an expired Web Content asset") {
			task ("Create a Web Content") {
				JSONWebcontent.addWebContent(
					content = "Web Content Content",
					groupName = "Test Site Name",
					title = "Web Content Title");
			}

			task ("Expire the WC") {
				JSONWebcontent.updateStatus(
					groupName = "Test Site Name",
					statusKey = "EXPIRE",
					title = "Web Content Title");
			}
		}

		task ("When the user filters by Expired status") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByStatus(filterOption = "Expired");
		}

		task ("Then the asset is exhibited") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "");
		}
	}

	@description = "LPS-155386: Add Filtering by Pending Status to the Content Dashboard"
	@priority = "4"
	test FilterByStatusPendingBlog {
		property portal.acceptance = "true";

		task ("Given a pending Blog") {
			task ("Configure Blogs Entry workflow to Single Approver") {
				Workflow.openWorkflowAdmin(siteURLKey = "test-site-name");

				Workflow.configureWorkflow(
					workflowDefinition = "Single Approver",
					workflowResourceValue = "Blogs Entry");
			}

			task ("Create a Blog Entry") {
				JSONBlog.addEntry(
					entryContent = "Blogs Entry Content",
					entryTitle = "Blogs Entry Title",
					groupName = "Test Site Name");
			}
		}

		task ("When user filters by 'Pending' status") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByStatus(filterOption = "Pending");
		}

		task ("Then the asset is filtered") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Blogs Entry Title");
		}
	}

	@description = "LPS-155386: Add Filtering by Pending Status to the Content Dashboard"
	@priority = "4"
	test FilterByStatusPendingWebContent {
		property portal.acceptance = "true";

		task ("Given a pending Web Content") {
			task ("Configure Web Content Article workflow to Single Approver") {
				Workflow.openWorkflowAdmin(siteURLKey = "test-site-name");

				Workflow.configureWorkflow(
					workflowDefinition = "Single Approver",
					workflowResourceValue = "Web Content Article");
			}

			task ("Create a Web Content") {
				JSONWebcontent.addWebContent(
					content = "Web Content Content",
					groupName = "Test Site Name",
					title = "Web Content Title");
			}
		}

		task ("When user filters by 'Pending' status") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByStatus(filterOption = "Pending");
		}

		task ("Then the asset is filtered") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Web Content Title");
		}
	}

	@description = "Validate if the user can filter by Status: Scheduled. And for LPS-86164 - Assert whether selecting time ends in JS error."
	@priority = "5"
	test FilterByStatusScheduled {
		property portal.acceptance = "true";
		property test.assert.javascript.errors = "true";
		property test.assert.warning.exceptions = "true";

		task ("Create a Web Content") {
			JSONWebcontent.addWebContent(
				content = "WC WebContent Content",
				groupName = "Test Site Name",
				title = "WC Title Scheduled");
		}

		task ("Change display date of Web Content") {
			WebContentNavigator.openWebContentAdmin(siteURLKey = "test-site-name");

			WebContentNavigator.gotoEditCP(webContentTitle = "WC Title Scheduled");

			WebContent.editDisplayDate(displayDate = "01/01/2100");

			PortletEntry.publish();
		}

		task ("Filter asset at Content Dashboard using status") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByStatus(filterOption = "Scheduled");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "WC Title Scheduled");
		}
	}

	@description = "LPS-132411 Given The Type filter modal
	When the user selects one or more subtypes
	Then the subtypes selected appear as filter boxes above the Content table in the Content Dashboard, with the format Subtype: [subtypen_name]"
	@priority = "5"
	test FilterBySubtype {
		property portal.acceptance = "true";

		task ("Create a Web Content") {
			JSONWebcontent.addWebContent(
				content = "Webcontent Content",
				groupName = "Test Site Name",
				title = "Webcontent Title");
		}

		task ("Navigate to the content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Filter by Type") {
			ContentDashboard.filterByType(typeName = "Basic Web Content");
		}

		task ("Assert that the web content and filter label are present") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Webcontent Title");

			AssertTextPresent(
				locator1 = "ContentDashboard#FILTER_TEXT",
				value1 = "Subtype: Basic Web Content");
		}
	}

	@description = "LPS-150510 Bug: Basic document cannot be selected in the subtype filter"
	@priority = "4"
	test FilterBySubtypeBasicDocument {
		property portal.acceptance = "true";

		task ("Create a Basic Document") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "Document_1",
				groupName = "Test Site Name",
				mimeType = "application/doc",
				sourceFileName = "Document_1.doc");
		}

		task ("Navigate to the content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Filter by Type: Basic Document") {
			ContentDashboard.filterByType(typeName = "Basic Document");
		}

		task ("Assert that the web content and filter label are present") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FILTER_TEXT",
				value1 = "Subtype: Basic Document");
		}
	}

	@description = "LPS-150558 Given The Type filter modal
	When the user selects the Blogs Entry option
	Then the subtype selected appears as filter box above the Content table in the Content Dashboard, with the format Subtype: [Blogs Entry]"
	@priority = "5"
	test FilterBySubtypeBlogsEntry {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";
		property portal.acceptance = "true";

		task ("Create a blog") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Navigate to the content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Filter by Type") {
			ContentDashboard.filterByType(typeName = "Blogs Entry");
		}

		task ("Assert that the web content and filter label are present") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Blogs Entry Title");

			AssertTextPresent(
				locator1 = "ContentDashboard#FILTER_TEXT",
				value1 = "Subtype: Blogs Entry");
		}
	}

	@description = "LPS-150558 Given The Type filter modal
	When the user selects the Blogs Entry option + any other subtype/s
	Then the subtype Blogs + other subtypes preselected will be shown as a text with the format [number] Subtypes selected"
	@priority = "3"
	test FilterBySubtypeBlogsEntryAndWebContent {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFBlogsEntryContentDashboardItemConfiguration.config";
		property osgi.module.configurations = "blogsEntryEnabled=B\"true\"";

		task ("Create a Web Content") {
			JSONWebcontent.addWebContent(
				content = "Webcontent Content",
				groupName = "Test Site Name",
				title = "Web Content Title");
		}

		task ("Create a blog") {
			JSONBlog.addEntry(
				entryContent = "Blogs Entry Content",
				entryTitle = "Blogs Entry Title",
				groupName = "Test Site Name");
		}

		task ("Navigate to the content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Filter by Type") {
			ContentDashboard.filterByType(typeNameList = "Basic Web Content,Blogs Entry");
		}

		task ("Assert if both assets are displayed") {
			AssertTextEquals(
				key_tableEntry = "Web Content Title",
				locator1 = "LexiconTable#TABLE_ENTRY_TITLE",
				value1 = "Web Content Title");

			AssertTextEquals(
				key_tableEntry = "Blogs Entry Title",
				locator1 = "LexiconTable#TABLE_ENTRY_TITLE",
				value1 = "Blogs Entry Title");
		}
	}

	@description = "Validate if the user can filter by tag"
	@priority = "5"
	test FilterByTag {
		property portal.acceptance = "true";

		task ("Add web content with tag to the first site") {
			JSONWebcontent.addWebContent(
				assetTagNames = "test_tag",
				content = "Web Content With Tag",
				groupName = "Test Site Name",
				title = "Web Content Title");
		}

		task ("Filter by tag at Content Dashboard") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByTag(tagName = "test_tag");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Web Content Title");
		}
	}

	@description = "LPS-124960 When there's a WebContent1 of type Subtype1 and WebContent2 of type Subtype2, and the user filters by Subtype1 and Subtype2, both web content are shown in the list"
	@priority = "3"
	test FilterByTypes {
		task ("Create a basic web content via JSONWS") {
			JSONWebcontent.addWebContent(
				content = "Web Content Content",
				groupName = "Test Site Name",
				title = "Web Content Title 1");
		}

		task ("Create a web content structure") {
			WebContentStructures.openWebContentStructuresAdmin(siteURLKey = "test-site-name");

			WebContentStructures.addCP(structureName = "WC Structure Name");

			DataEngine.addField(
				fieldFieldLabel = "Text",
				fieldName = "Text");

			WebContentStructures.saveCP();
		}

		task ("Create a web content based on the structure created") {
			NavItem.click(navItem = "Web Content");

			WebContentNavigator.gotoAddWithStructureCP(structureName = "WC Structure Name");

			WebContent.addWithStructureCP(
				webContentText = "Web Content Content",
				webContentTitle = "Web Content Title 2");

			PortletEntry.publish();
		}

		task ("Navigate to Content Dashbaord") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Filter assets by both structure types") {
			ContentDashboard.filterByType(typeNameList = "Basic Web Content,WC Structure Name");
		}

		task ("Assert if both assets are displayed") {
			AssertTextEquals(
				key_tableEntry = "Web Content Title 1",
				locator1 = "LexiconTable#TABLE_ENTRY_TITLE",
				value1 = "Web Content Title 1");

			AssertTextEquals(
				key_tableEntry = "Web Content Title 2",
				locator1 = "LexiconTable#TABLE_ENTRY_TITLE",
				value1 = "Web Content Title 2");
		}
	}

	@description = "LPS-133354: Given The Extension filter modal
	When the user selects one or more extensions and clicks on 'Select' button
	Then the extensions selected appear as filter boxes above the Content table in the Content Dashboard, with the format 'Extension: [extension_name]' "
	@priority = "5"
	test FilteringExtensionsOnTheDashboard {
		property portal.acceptance = "true";

		task ("Add a text file") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "Document_1",
				groupName = "Test Site Name",
				mimeType = "application/doc",
				sourceFileName = "Document_1.doc");
		}

		task ("Navigate to the content Dashboard and filter by file extension") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByExtension(extensionName = "doc");
		}

		task ("Check if extension is present") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FILTER_TEXT",
				value1 = "Extension: doc");
		}
	}

	@description = "LPS-117419 When the item selector for tags displays all available tags and there's a tag that is created in two different sites with the same name, the repeated tag shows only once, the filter results retrieve contents labeled with those categories from the two sites and there's only one filter applied"
	@priority = "5"
	test FilterTheListOfContentsByTag {
		property portal.acceptance = "true";

		task ("Add web content with tag to the first site") {
			JSONWebcontent.addWebContent(
				assetTagNames = "test_tag",
				content = "Web Content Content",
				groupName = "Test Site Name",
				title = "Web Content Title 1");
		}

		task ("Create the second site") {
			JSONGroup.addGroup(groupName = "Test Site Name 2");
		}

		task ("Add web content with tag to the second site") {
			JSONWebcontent.addWebContent(
				assetTagNames = "test_tag",
				content = "Web Content Content",
				groupName = "Test Site Name 2",
				title = "Web Content Title 2");
		}

		task ("navigate to the content dashboard, filter by tags and make sure there is only one tag") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByTag(tagName = "test_tag");
		}

		task ("Assert if both Web Contents are displayed") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FILTER_TEXT",
				value1 = "Tag: test_tag");

			AssertTextEquals(
				key_tableEntry = "Web Content Title 1",
				locator1 = "LexiconTable#TABLE_ENTRY_TITLE_LINK",
				value1 = "Web Content Title 1");

			AssertTextEquals(
				key_tableEntry = "Web Content Title 2",
				locator1 = "LexiconTable#TABLE_ENTRY_TITLE_LINK",
				value1 = "Web Content Title 2");
		}
	}

	@description = "LPS-116840 When a user with update permissions clicks on the edit icon, the user is led to the web editor"
	@priority = "5"
	test IconEdit {
		property portal.acceptance = "true";

		task ("Create a Web Content ") {
			JSONWebcontent.addWebContent(
				content = "Webcontent Content",
				groupName = "Test Site Name",
				title = "Webcontent Title");
		}

		task ("Go to ContentDashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Click at edit icon") {
			ContentDashboard.clickQuickActionIcon(iconName = "Edit");
		}

		task ("Check location at web content editor") {
			AssertLocation.assertPartialLocation(value1 = "com_liferay_journal_web_portlet_JournalPortlet");

			AssertLocation.assertPartialLocation(value1 = "edit_article.jsp");
		}
	}

	@description = "LPS-116840 When the user clicks on the info icon, the info panel displays"
	@priority = "5"
	test IconInfo {
		property portal.acceptance = "true";

		task ("Create a default Display Page Template") {
			JSONLayoutpagetemplate.addDisplayPageTemplateEntry(
				contentType = "Web Content Article",
				displayPageTemplateEntryName = "Display Page Name",
				groupName = "Test Site Name",
				statusKey = "APPROVED",
				subType = "Basic Web Content");

			JSONLayoutpagetemplate.setLayoutPageTemplateEntryAsDefault(
				groupName = "Test Site Name",
				layoutPageTemplateEntryName = "Display Page Name",
				type = "Display Page Template");
		}

		task ("Add Web Content and check it in its display page and access the info") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "teste");
		}

		task ("Go to ContentDashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Check that user can open info panel") {
			ContentDashboard.clickQuickActionIcon(iconName = "Info");

			AssertVisible(locator1 = "ContentDashboard#INFO_PANEL");
		}
	}

	@description = "LPS-134692 Given the info panel of an asset
	When the user clicks on arrow next to the title of a section not collapsed
	Then the section will be collapsed"
	@priority = "3"
	test InfoPanelCollapseSection {
		task ("Adding vocabulary and category") {
			JSONCategory.addVocabulary(
				groupName = "Test Site Name",
				title = "Vocabulary Name");

			var categoryId = JSONCategory.addCategory(
				groupName = "Test Site Name",
				title = "Category Name",
				vocabularyName = "Vocabulary Name");
		}

		task ("Adding Web Content") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId}",
				content = "WC WebContent Content",
				groupName = "Test Site Name",
				title = "WC WebContent Title");
		}

		task ("Go to the Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Open the info panel and collapse the Categorization section") {
			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "WC WebContent Title");

			AssertVisible(
				categoryName = "Category Name",
				locator1 = "ContentDashboard#CATEGORY_LABEL_INFO_PANEL");

			Panel.collapsePanel(panel = "Categorization");

			AssertNotVisible(
				categoryName = "Category Name",
				locator1 = "ContentDashboard#CATEGORY_LABEL_INFO_PANEL");
		}
	}

	@description = "LPS-134692 Given the info panel of an asset
	When the user clicks on arrow next to the title of a section collapsed
	Then the section will be expanded"
	@priority = "3"
	test InfoPanelExpandSection {
		task ("Adding vocabulary and category") {
			JSONCategory.addVocabulary(
				groupName = "Test Site Name",
				title = "Vocabulary Name");

			var categoryId = JSONCategory.addCategory(
				groupName = "Test Site Name",
				title = "Category Name",
				vocabularyName = "Vocabulary Name");
		}

		task ("Adding Web Content") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId}",
				content = "WC WebContent Content",
				groupName = "Test Site Name",
				title = "WC WebContent Title");
		}

		task ("Go to the Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Open the info panel and expand the Categorization section") {
			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "WC WebContent Title");

			AssertVisible(
				categoryName = "Category Name",
				locator1 = "ContentDashboard#CATEGORY_LABEL_INFO_PANEL");

			Panel.collapsePanel(panel = "Categorization");

			AssertNotVisible(
				categoryName = "Category Name",
				locator1 = "ContentDashboard#CATEGORY_LABEL_INFO_PANEL");

			Panel.expandPanel(panel = "Categorization");

			AssertVisible(
				categoryName = "Category Name",
				locator1 = "ContentDashboard#CATEGORY_LABEL_INFO_PANEL");
		}
	}

	@description = "LPS-160218: Make the Info Panel Remain Open After a Page Refresh"
	@priority = "3"
	test InfoPanelNotOpenAfterNavigation {
		task ("Given the info panel is open") {
			task ("Crete an Asset") {
				JSONWebcontent.addWebContent(
					content = "Web Content Content",
					groupName = "Test Site Name",
					title = "Web Content Title");
			}

			task ("Navigate to Content Dashboard") {
				ContentDashboard.goToContentDashboard();
			}

			task ("Open info panel") {
				LexiconTable.clickEllipsisItem(
					item = "Info",
					tableEntry = "Web Content Title");
			}
		}

		task ("When navigates away from the page") {
			ApplicationsMenu.gotoSite(site = "Test Site Name");
		}

		task ("And returns to content dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Then the info panel is closed") {
			AssertElementNotPresent(locator1 = "ContentDashboard#INFO_PANEL");
		}
	}

	@description = "LPS-160218: Make the Info Panel Remain Open After a Page Refresh"
	@priority = "3"
	test InfoPanelOpenAfterRefresh {
		task ("Given the info panel is open") {
			task ("Crete an Asset") {
				JSONWebcontent.addWebContent(
					content = "Web Content Content",
					groupName = "Test Site Name",
					title = "Web Content Title");
			}

			task ("Navigate to Content Dashboard") {
				ContentDashboard.goToContentDashboard();
			}

			task ("Open info panel") {
				LexiconTable.clickEllipsisItem(
					item = "Info",
					tableEntry = "Web Content Title");
			}
		}

		task ("When the page is refreshed") {
			Refresh();
		}

		task ("Then the info panel still remains open") {
			WaitForElementPresent(locator1 = "ContentDashboard#INFO_PANEL");

			AssertVisible(locator1 = "ContentDashboard#INFO_PANEL");
		}
	}

	@description = "LPS-122873 When the user add filters need to have only one vocabulary, the relative ordering of the categories remain the same"
	@priority = "3"
	test JustAddingAVocabularyThroughTheFilters {
		task ("Create a list of Audience Categories") {
			var audienceId1 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Subaudience_1",
				vocabularyName = "Audience");
			var audienceId2 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Subaudience_2",
				vocabularyName = "Audience");
			var audienceId3 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Subaudience_3",
				vocabularyName = "Audience");
		}

		task ("Create a list of Stage Categories") {
			var stageId1 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Substage_1",
				vocabularyName = "Stage");
			var stageId2 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Substage_2",
				vocabularyName = "Stage");
			var stageId3 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Substage_3",
				vocabularyName = "Stage");
		}

		task ("Create Web Contents with Stage categories only") {
			for (var count : list "1,2,3") {
				JSONWebcontent.addWebContent(
					assetCategoryIds = "${stageId1},${stageId2},${stageId3}",
					content = "Webcontent Content",
					groupName = "Test Site Name",
					title = "Webcontent Title ${count}");
			}
		}

		task ("Go to content Dashboard and View the relative ordering of the categories remain the same") {
			ContentDashboard.goToContentDashboard();

			AssertTextPresent(
				locator1 = "ContentDashboard#X_AXIS_VOCABULARY_NAME",
				value1 = "Substage_1",
				xAxisCategoryName = "stage");

			AssertTextPresent(
				locator1 = "ContentDashboard#X_AXIS_VOCABULARY_NAME",
				value1 = "Substage_2",
				xAxisCategoryName = "stage");

			AssertTextPresent(
				locator1 = "ContentDashboard#X_AXIS_VOCABULARY_NAME",
				value1 = "Substage_3",
				xAxisCategoryName = "stage");
		}
	}

	@description = "LPS-116987 When the user clicks on the eye icon in any of the translated into languages within the info panel, the user navigates to the VIEW version of the page in the matching language"
	@priority = "5"
	test LanguageVersion {
		property portal.acceptance = "true";

		task ("Create a default Display Page Template") {
			JSONLayoutpagetemplate.addDisplayPageTemplateEntry(
				contentType = "Web Content Article",
				displayPageTemplateEntryName = "Display Page Name",
				groupName = "Test Site Name",
				statusKey = "APPROVED",
				subType = "Basic Web Content");

			JSONLayoutpagetemplate.setLayoutPageTemplateEntryAsDefault(
				groupName = "Test Site Name",
				layoutPageTemplateEntryName = "Display Page Name",
				type = "Display Page Template");
		}

		task ("Add mapped heading to Display Page") {
			DisplayPageTemplatesAdmin.openDisplayPagesAdmin(siteURLKey = "test-site-name");

			DisplayPageTemplatesAdmin.gotoDisplayPage(displayPageName = "Display Page Name");

			PageEditor.addFragment(
				collectionName = "Basic Components",
				fragmentName = "Heading");

			PageEditorMapping.gotoEditableFieldMapping(
				fragmentName = "Heading",
				id = "element-text");

			Select(
				locator1 = "PageEditorEditableLink#FIELD",
				value1 = "Title");

			PageEditor.waitForAutoSave();

			Button.clickPublish();
		}

		task ("Add Web Content and change the language") {
			JSONWebcontent.addWebContent(
				content = "WC WebContent Content",
				description = "Description",
				groupName = "Test Site Name",
				title = "WC WebContent Title");

			WebContentNavigator.openWebContentAdmin(siteURLKey = "Test Site Name");

			Translations.gotoTranslate(webContentTitle = "WC WebContent Title");

			Translations.changeTargetLocale(
				currentTargetLocale = "ar-SA",
				newTargetLocale = "es-ES");

			Translations.viewBaseFields(
				webContentContent = "WC WebContent Content",
				webContentTitle = "WC WebContent Title");

			Translations.translateFields(
				webContentContent = "WC WebContent Contenido",
				webContentDescription = "WC WebContent Descripcin",
				webContentTitle = "WC WebContent Ttulo");

			Button.clickPublish();
		}

		task ("Navigate to Content Dashboard and open info panel") {
			ContentDashboard.goToContentDashboard();

			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "WC WebContent Title");
		}

		task ("Click to view page in the corresponding language") {
			ContentDashboard.viewAssetsTranslatedVersion(language = "es-ES");
		}

		task ("Check view version of the page") {
			ContentPages.viewFragmentText(
				fragmentName = "heading",
				id = "element-text",
				text = "WC WebContent Ttulo");
		}
	}

	@description = "LPS-133354: Given The Extension filter modal
	When there are file extensions for the MIME type 'audio'
	Then the MIME type 'audio' appears as father and all of the file extensions for it appear as children and available to be selected"
	@priority = "4"
	test MimeTypeAudio {
		property portal.acceptance = "true";

		task ("Add an audio file") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "Document_1",
				groupName = "Test Site Name",
				mimeType = "audio/mp3",
				sourceFileName = "Document_1.mp3");
		}

		task ("Navigate to the content Dashboard and filter by file extension") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByExtension(extensionName = "mp3");
		}

		task ("Check if extension is present") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FILTER_TEXT",
				value1 = "Extension: mp3");
		}
	}

	@description = "LPS-133354 Given The Extension filter modal
	When there are file extensions for the MIME type 'code'
	Then the MIME type 'code' appears as father and all of the file extensions for it appear as children and available to be selected"
	@priority = "4"
	test MimeTypeCode {
		property portal.acceptance = "true";

		task ("Add a document") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "Document_1",
				groupName = "Test Site Name",
				mimeType = "code/html",
				sourceFileName = "fragment_freemarker_basic.html");
		}

		task ("Navigate to the content Dashboard and filter by file extension") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByExtension(extensionName = "html");
		}

		task ("Check if extension is present") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FILTER_TEXT",
				value1 = "Extension: html");
		}
	}

	@description = "LPS-133354: Given The Extension filter modal
	When there are file extensions for the MIME type 'compressed'
	Then the MIME type 'compressed' appears as father and all of the file extensions for it appear as children and available to be selected"
	@priority = "4"
	test MimeTypeCompressed {
		property portal.acceptance = "true";

		task ("Add a compressed file") {
			DMNavigator.openDocumentsAndMediaAdmin(siteURLKey = "test-site-name");

			DMDocument.addCP(
				dmDocumentDescription = "Document Description",
				dmDocumentFileName = "document.zip",
				dmDocumentTitle = "Document_1",
				nullFile = "true");
		}

		task ("Navigate to the content Dashboard and filter by file extension") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByExtension(extensionName = "zip");
		}

		task ("Check if extension is present") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FILTER_TEXT",
				value1 = "Extension: zip");
		}
	}

	@description = "LPS-133354: Given The Extension filter modal
	When there are file extensions for the MIME type 'others'
	Then the MIME type 'others' appears as father and all of the file extensions for it appear as children and available to be selected"
	@priority = "4"
	test MimeTypeOthers {
		property portal.acceptance = "true";

		task ("Add a vectorial file") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "Document_1",
				groupName = "Test Site Name",
				mimeType = "application/json",
				sourceFileName = "checkbox_configuration.json");
		}

		task ("Navigate to the content Dashboard and filter by file extension") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByExtension(extensionName = "json");
		}

		task ("Check if extension is present") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FILTER_TEXT",
				value1 = "Extension: json");
		}
	}

	@description = "LPS-133354: Given The Extension filter modal
	When there are file extensions for the MIME type 'presentation'
	Then the MIME type 'presentation' appears as father and all of the file extensions for it appear as children and available to be selected"
	@priority = "4"
	test MimeTypePresentation {
		property portal.acceptance = "true";

		task ("Add a compressed file") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "Document_1",
				groupName = "Test Site Name",
				mimeType = "application/powerpoint",
				sourceFileName = "Document_1.pptx");
		}

		task ("Navigate to the content Dashboard and filter by file extension") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByExtension(extensionName = "pptx");
		}

		task ("Check if extension is present") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FILTER_TEXT",
				value1 = "Extension: pptx");
		}
	}

	@description = "LPS-133354: Given The Extension filter modal
	When there are file extensions for the MIME type 'spreadSheet'
	Then the MIME type 'spreadSheet' appears as father and all of the file extensions for it appear as children and available to be selected"
	@priority = "4"
	test MimeTypeSpreadsheet {
		property portal.acceptance = "true";

		task ("Add a spreadSheet file") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "Document_1",
				groupName = "Test Site Name",
				mimeType = "application/excel",
				sourceFileName = "Document_1.xls");
		}

		task ("Navigate to the content Dashboard and filter by file extension") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByExtension(extensionName = "xls");
		}

		task ("Check if extension is present") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FILTER_TEXT",
				value1 = "Extension: xls");
		}
	}

	@description = "LPS-133354: Given The Extension filter modal
	When there are file extensions for the MIME type 'text'
	Then the MIME type 'text' appears as father and all of the file extensions for it appear as children and available to be selected"
	@priority = "4"
	test MimeTypeText {
		property portal.acceptance = "true";

		task ("Add a text file") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "Document_1",
				groupName = "Test Site Name",
				mimeType = "application/docx",
				sourceFileName = "Document_1.docx");
		}

		task ("Navigate to the content Dashboard and filter by file extension") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByExtension(extensionName = "docx");
		}

		task ("Check if extension is present") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FILTER_TEXT",
				value1 = "Extension: docx");
		}
	}

	@description = "LPS-133354: Given The Extension filter modal
	When there are file extensions for the MIME type 'vectorial'
	Then the MIME type 'vectorial' appears as father and all of the file extensions for it appear as children and available to be selected"
	@priority = "4"
	test MimeTypeVectorial {
		property portal.acceptance = "true";

		task ("Add a vectorial file") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "Document_1",
				groupName = "Test Site Name",
				mimeType = "application/pdf",
				sourceFileName = "Document_1.pdf");
		}

		task ("Navigate to the content Dashboard and filter by file extension") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByExtension(extensionName = "pdf");
		}

		task ("Check if extension is present") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FILTER_TEXT",
				value1 = "Extension: pdf");
		}
	}

	@description = "LPS-133354: Given The Extension filter modal
	When there are file extensions for the MIME type 'video'
	Then the MIME type 'video' appears as father and all of the file extensions for it appear as children and available to be selected"
	@priority = "4"
	test MimeTypeVideo {
		property portal.acceptance = "true";

		task ("Add a video file") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "Document_1",
				groupName = "Test Site Name",
				mimeType = "video/mp4",
				sourceFileName = "Document_1.mp4");
		}

		task ("Navigate to the content Dashboard and filter by file extension") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByExtension(extensionName = "mp4");
		}

		task ("Check if extension is present") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FILTER_TEXT",
				value1 = "Extension: mp4");
		}
	}

	@description = "LPS-131793: Given the categorization section in Documents and Media
	When the user creates a Global internal vocabulary
	Then the vocabulary is shown"
	@priority = "3"
	test NewVocabularyGlobalInOOTBTable {
		task ("Add a Global Internal Vocabulary") {
			JSONCategory.addVocabulary(
				groupName = "Global",
				title = "Vocabulary 1",
				visibility = "internal");
		}

		task ("Choose the site of interest") {
			PagesAdmin.openPagesAdmin(siteURLKey = "global");
		}

		task ("Go to Documents and Media and clik on Add Button and File Upload") {
			DMNavigator.openDocumentsAndMediaAdmin(siteURLKey = "test-site-name");

			DMNavigator.gotoAddDocumentTypeCP(dmDocumentTypeName = "File Upload");
		}

		task ("Check if the Vocabulary appears in the list") {
			Panel.expandPanel(panel = "Categorization");

			AssertTextPresent(
				locator1 = "AssetCategorization#VOCABULARY_LIST_ITEM",
				value1 = "Vocabulary 1");
		}
	}

	@description = "LPS-131793: Given the categorization section in Documents and Media
	When the user creates a Site internal vocabulary
	Then the vocabulary is shown"
	@priority = "3"
	test NewVocabularyInternalInOOTBTable {
		task ("Add a Site Internal Vocabulary") {
			JSONCategory.addVocabulary(
				groupName = "Test Site Name",
				title = "Vocabulary 1",
				visibility = "internal");
		}

		task ("Choose the site of interest") {
			PagesAdmin.openPagesAdmin(siteURLKey = "test-site-name");
		}

		task ("Go to Documents and Media and clik on Add Button and File Upload") {
			DMNavigator.openDocumentsAndMediaAdmin(siteURLKey = "test-site-name");

			DMNavigator.gotoAddDocumentTypeCP(dmDocumentTypeName = "File Upload");
		}

		task ("Check if the Vocabulary appears in the list") {
			Panel.expandPanel(panel = "Categorization");

			AssertTextPresent(
				locator1 = "AssetCategorization#VOCABULARY_LIST_ITEM",
				value1 = "Vocabulary 1");
		}
	}

	@description = "LPS-133354: Given The Extension filter modal
	When there are NOT file extensions for any MIME type
	Then the MIME type does NOT appear listed in the Extension modal"
	@priority = "3"
	test NoMimeType {
		task ("Navigate to the content Dashboard and filter by file extension") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.openFilterModal(filterOption = "Extension");
		}

		task ("Check if message of No results were found is present") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FILTER_BY_EXTENSION_EMPTY",
				value1 = "No results were found.");
		}
	}

	@description = "LPS-122873 When the user configure the audit graph to have just one vocabulary, the relative ordering of the categories remain the same"
	@priority = "3"
	test NumberOfVocabulariesAccordingToTheAuditGraph {
		task ("Create a list of Audiences") {
			var categoryId1 = JSONCategory.addCategory(
				groupName = "Global",
				title = "C_Subaudience_1",
				vocabularyName = "Audience");
			var categoryId2 = JSONCategory.addCategory(
				groupName = "Global",
				title = "B_Subaudience_2",
				vocabularyName = "Audience");
			var categoryId3 = JSONCategory.addCategory(
				groupName = "Global",
				title = "A_Subaudience_3",
				vocabularyName = "Audience");
		}

		task ("Create a list of Stage Categories") {
			var stageId1 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Substage_1",
				vocabularyName = "Stage");
			var stageId2 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Substage_2",
				vocabularyName = "Stage");
			var stageId3 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Substage_3",
				vocabularyName = "Stage");
		}

		task ("Create a Web Content with the categories") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${categoryId1},${categoryId2},${categoryId3},${stageId1},${stageId2},${stageId3}",
				content = "Webcontent Content",
				groupName = "Test Site Name",
				title = "Webcontent Title");
		}

		task ("Go to Content Dashboard and set graph to only one vocabulary") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.moveVocabularyDisplayConfiguration(vocabularyName = "Stage");
		}

		task ("Assert the categories of the vocabulary removed is not present") {
			AssertTextNotPresent(
				locator1 = "ContentDashboard#X_AXIS_VOCABULARY_NAME",
				value1 = "Substage_1",
				xAxisCategoryName = "stage");

			AssertTextNotPresent(
				locator1 = "ContentDashboard#X_AXIS_VOCABULARY_NAME",
				value1 = "Substage_2",
				xAxisCategoryName = "stage");

			AssertTextNotPresent(
				locator1 = "ContentDashboard#X_AXIS_VOCABULARY_NAME",
				value1 = "Substage_3",
				xAxisCategoryName = "stage");
		}

		task ("Validate if the remaining categories are shown in order of creating") {
			AssertTextPresent(
				categoryIndex = "1",
				locator1 = "ContentDashboard#X_AXIS_CATEGORIES_NAME",
				value1 = "C_Subaudience_1");

			AssertTextPresent(
				categoryIndex = "2",
				locator1 = "ContentDashboard#X_AXIS_CATEGORIES_NAME",
				value1 = "B_Subaudience_2");

			AssertTextPresent(
				categoryIndex = "3",
				locator1 = "ContentDashboard#X_AXIS_CATEGORIES_NAME",
				value1 = "A_Subaudience_3");
		}
	}

	@description = "Validate if the user can order by Modification Date"
	@priority = "5"
	test OrderByModificationDate {
		property portal.acceptance = "true";

		task ("Create 5 Web Contents") {
			for (var count : list "1,2,3,4,5") {
				JSONWebcontent.addWebContent(
					content = "WC Content ${count}",
					groupName = "Test Site Name",
					title = "WC Title ${count}");
			}
		}

		ContentDashboard.goToContentDashboard();

		task ("Order assets by modification data in Content Dashboard") {
			ContentDashboard.orderByModificationDate(filterOption = "Modified Date");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "WC Title 5");
		}

		task ("Change the order of assets") {
			Click(locator1 = "ContentDashboard#REVERSE_SORT_DIRECTION_BUTTON");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "WC Title 1");
		}
	}

	@description = "Validate if the user can order by title"
	@priority = "5"
	test OrderByTitle {
		property portal.acceptance = "true";

		task ("Create 5 Web Contents") {
			for (var count : list "1,2,3,4,5") {
				JSONWebcontent.addWebContent(
					content = "WC Content ${count}",
					groupName = "Test Site Name",
					title = "WC Title ${count}");
			}
		}

		task ("Order assets by title in Content Dashboard") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.orderByTitle(filterOption = "Title");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "WC Title 5");
		}

		task ("Change de order of assets") {
			Click(locator1 = "ContentDashboard#REVERSE_SORT_DIRECTION_BUTTON");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "WC Title 1");
		}
	}

	@description = "LPS-132254 When a user selects the value of the number of rows (4, 8, 40, 60) displayed in the list, the Content Dashboard will display the number of rows selected"
	@priority = "5"
	test PaginationDisplaySelectedNumberOfRows {
		property portal.acceptance = "true";

		task ("Create 10 WC using JSON") {
			for (var count : list "1,2,3,4,5,6,7,8,9,10") {
				JSONWebcontent.addWebContent(
					content = "WC Content ${count}",
					groupName = "Test Site Name",
					title = "WC Title ${count}");
			}
		}

		task ("Go to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Check if the correct number of entries are being displayed") {
			Pagination.changePagination(itemsPerPage = "8");

			Pagination.viewResults(results = "Showing 1 to 8 of 10 entries.");
		}
	}

	@description = "LPS-132254 When a user use the <, > buttons, the page displayed moves forward/backward"
	@priority = "3"
	test PaginationMoveAcrossPagesWithButtons {
		task ("Create 6 WC using JSON") {
			for (var count : list "1,2,3,4,5,6") {
				JSONWebcontent.addWebContent(
					content = "WC Content ${count}",
					groupName = "Test Site Name",
					title = "WC Title ${count}");
			}
		}

		task ("Go to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Use < > buttons to move forth and back") {
			Pagination.changePagination(itemsPerPage = "4");

			Click(locator1 = "Pagination#NEXT_LINK");

			Pagination.viewResults(results = "Showing 5 to 6 of 6 entries.");

			Click(locator1 = "Pagination#PREVIOUS_LINK");

			Pagination.viewResults(results = "Showing 1 to 4 of 6 entries.");
		}
	}

	@description = "LPS-132254 When a user clicks on a page number, that page is displayed in the Content Dashboard"
	@priority = "3"
	test PaginationMoveAcrossPagesWithNumber {
		task ("Create 6 WC using JSON") {
			for (var count : list "1,2,3,4,5,6") {
				JSONWebcontent.addWebContent(
					content = "WC Content ${count}",
					groupName = "Test Site Name",
					title = "WC Title ${count}");
			}
		}

		task ("Go to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Use page numbers to move between pages") {
			Pagination.changePagination(itemsPerPage = "4");

			ContentDashboard.moveToPage(pageNumber = "2");

			Pagination.viewResults(results = "Showing 5 to 6 of 6 entries.");
		}
	}

	@description = "LPS-113832 When the option 'Access in Control Panel' is checked for permissions for Content Dashboard section, users with this role assigned can see and access the Content Dashboard in the Global App Menu."
	@priority = "5"
	test PermissionsForContentDashboard {
		property portal.acceptance = "true";

		task ("Create a new user") {
			JSONUser.addUser(
				userEmailAddress = "userea@liferay.com",
				userFirstName = "userfn",
				userLastName = "userln",
				userScreenName = "usersn");

			JSONUser.setFirstPassword(
				agreeToTermsAndAnswerReminderQuery = "true",
				newPassword = "test",
				requireReset = "false",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Create a new role and its permissions") {
			JSONRole.addRegularRole(
				roleKey = "Content Dashboard User Test",
				roleTitle = "Content Dashboard User Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "VIEW_SITE_ADMINISTRATION",
				resourceName = "com.liferay.portal.kernel.model.Group",
				roleTitle = "Content Dashboard User Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "ACCESS_IN_CONTROL_PANEL",
				resourceName = "com_liferay_content_dashboard_web_portlet_ContentDashboardAdminPortlet",
				roleTitle = "Content Dashboard User Test");

			Permissions.definePermissionViaJSONAPI(
				resourceAction = "VIEW_CONTROL_PANEL",
				resourceName = "90",
				roleTitle = "Content Dashboard User Test");

			JSONRole.assignRoleToUser(
				roleTitle = "Content Dashboard User Test",
				userEmailAddress = "userea@liferay.com");
		}

		task ("login with the new user and access the content panel") {
			User.logoutAndLoginPG(
				userLoginEmailAddress = "userea@liferay.com",
				userLoginFullName = "userfn userln");

			ContentDashboard.goToContentDashboard();
		}
	}

	@description = "LPS-152905: Add a Preview to the Info Panel of Blogs in the Content Dashboard :"
	@priority = "3"
	test PreviewBlogsImage {
		task ("Given a blog contains only an image") {
			var imageId = JSONBlog.uploadBlogImage(
				groupName = "Test Site Name",
				sourceFileName = "Document_1.jpg");

			JSONBlog.addEntryWithImage(
				coverImageId = "${imageId}",
				entryContent = "Blogs Content",
				entryTitle = "Blogs Title",
				groupName = "Test Site Name");
		}

		task ("When the user opens asset Info Panel at Content Dashboard ") {
			ContentDashboard.goToContentDashboard();

			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "Blogs Title");
		}

		task ("Then a preview of the blog image must appear in the Info Panel") {
			AssertVisible(
				assetName = "Document_1.jpg",
				locator1 = "ContentDashboard#PREVIEW_IMAGE");
		}
	}

	@description = "Validate if the user can open de Info side panel of a web content"
	@priority = "5"
	test SaveFiltersAfterEditing {
		property portal.acceptance = "true";

		task ("Create a Web Content") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "WC Title");
		}

		task ("Edit Web Content") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByAuthor();

			ContentDashboard.editAsset(
				assetNewTitle = "WC Title Edited",
				assetTitle = "WC Title");

			AssertTextPresent(
				locator1 = "ContentDashboard#FILTER_TEXT",
				value1 = "Author: Test Test");
		}
	}

	@description = "LPS-133354: Given The Extension filter modal
	When the user selects one or more extensions
	Then the number of file extensions preselected will be shown as a text with the format '[number] Subtypes selected' "
	@priority = "3"
	test SelectedExtensionNumbers {
		task ("Add a text file") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "Document_1",
				groupName = "Test Site Name",
				mimeType = "text/doc",
				sourceFileName = "Document_1.doc");
		}

		task ("Add a image file") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "Document_2",
				groupName = "Test Site Name",
				mimeType = "image/jpeg",
				sourceFileName = "Document_2.jpeg");
		}

		task ("Add an audio file") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "Document_3",
				groupName = "Test Site Name",
				mimeType = "audio/mp3",
				sourceFileName = "Document_3.mp3");
		}

		task ("Navigate to the content Dashboard and filter by file extension") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByExtension(extensionNameList = "mp3,Image,Text");
		}

		task ("Check if extension is present") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FILTER_TEXT",
				value1 = "3 Results for");
		}
	}

	@description = "LPS-133354: Given The Extension filter modal
	When the text input matches to one or more extensions from a MIME type and the user clicks on the MIME type parent
	Then all the children that appear filtered will be selected"
	@priority = "3"
	test SelectedParentAndChildExtensions {
		task ("Add a text file") {
			JSONDocument.addFileWithUploadedFile(
				dmDocumentTitle = "Document_1",
				groupName = "Test Site Name",
				mimeType = "application/doc",
				sourceFileName = "Document_1.doc");
		}

		task ("Navigate to the content Dashboard and filter by file extension") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByMimeParent(parentExtension = "Text (1 Item)");
		}

		task ("Check if extension is present") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FILTER_TEXT",
				value1 = "Extension: doc");
		}
	}

	@description = "LPS-131886 Validade if when Web Content is updated its being corectly displayed"
	@priority = "3"
	test ShouldExhibitUpdatedWebContent {
		task ("Create WC via JSON") {
			JSONWebcontent.addWebContent(
				content = "WC WebContent Content",
				groupName = "Test Site Name",
				title = "WC WebContent Title");
		}

		task ("Go to Content Dashboard and Edit WC") {
			WebContentNavigator.openWebContentAdmin(siteURLKey = "test-site-name");

			ContentDashboard.goToContentDashboard();

			ContentDashboard.editAsset(
				assetNewTitle = "WC WebContent New Title",
				assetTitle = "WC WebContent Title");
		}

		task ("Check if content is correct") {
			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED_MODIFIED_DATE",
				value1 = "0 Seconds Ago");
		}
	}

	@description = "LPS-131886 Validade if a Web Content associated with a Display Page Template is shown"
	@priority = "5"
	test ShouldExhibitWebContentAssociatedWithDisplayPage {
		property portal.acceptance = "true";

		task ("Create a default Display Page Template") {
			JSONLayoutpagetemplate.addDisplayPageTemplateEntry(
				contentType = "Web Content Article",
				displayPageTemplateEntryName = "Display Page Name",
				groupName = "Test Site Name",
				statusKey = "APPROVED",
				subType = "Basic Web Content");

			JSONLayoutpagetemplate.setLayoutPageTemplateEntryAsDefault(
				groupName = "Test Site Name",
				layoutPageTemplateEntryName = "Display Page Name",
				type = "Display Page Template");
		}

		task ("Create a Web Content and set a Display Page") {
			JSONWebcontent.addWebContent(
				content = "Webcontent Content",
				groupName = "Test Site Name",
				title = "Webcontent Title");
		}

		task ("Check in Content Dashboard if WC is assiciated with Display Page Template") {
			ContentDashboard.goToContentDashboard();

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "Webcontent Title");

			AssertVisible(locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED_DISPLAY_PAGE");
		}
	}

	@description = "LPS-131886 Validade if a Web Content not associated with a Display Page Template is shown"
	@priority = "5"
	test ShouldExhibitWebContentNotAssociatedWithDisplayPageTemplate {
		property portal.acceptance = "true";

		task ("Create WC via JSON") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "WC Title");
		}

		task ("Check if WC is not associated in Content Dashboard") {
			ContentDashboard.goToContentDashboard();

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "WC Title");

			AssertElementNotPresent(locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED_DISPLAY_PAGE");
		}
	}

	@description = "LPS-133181 When Filter by Author 'All', displays content from all users featured in the user's content dashboard view."
	@priority = "5"
	test ShowAllContentCreatorUsers {
		property portal.acceptance = "true";

		task ("Create and configure second user") {
			JSONUser.addUser(
				userEmailAddress = "userea@liferay.com",
				userFirstName = "userfn",
				userLastName = "userln",
				userScreenName = "usersn");

			JSONUser.setFirstPassword(
				agreeToTermsAndAnswerReminderQuery = "true",
				requireReset = "false",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Assign site role to user") {
			JSONUser.addUserToSite(
				groupName = "Test Site Name",
				userEmailAddress = "userea@liferay.com");

			JSONRole.assignSiteRoleToUser(
				groupName = "Test Site Name",
				roleTitle = "Site Owner",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Create First WC via JSON") {
			JSONWebcontent.addWebContent(
				content = "WC Content 1",
				groupName = "Test Site Name",
				title = "WC Title 1");
		}

		task ("Change to second user and create second WC") {
			User.logoutAndLoginPG(
				userLoginEmailAddress = "userea@liferay.com",
				userLoginFullName = "userfn userln");

			WebContentNavigator.openWebContentAdmin(siteURLKey = "test-site-name");

			WebContentNavigator.gotoAddCP();

			WebContent.addCP(
				webContentContent = "WC Content 2",
				webContentTitle = "WC Title 2");

			PortletEntry.publish();
		}

		task ("Login with Admin user") {
			User.logoutAndLoginPG(
				userLoginEmailAddress = "test@liferay.com",
				userLoginFullName = "Test Test");
		}

		task ("Go to Content Dashboard and aplly All filter") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.filterByAuthorAll(filterOption = "All");
		}

		task ("Check if all contents are being displayed") {
			AssertTextEquals(
				key_tableEntry = "WC Title 1",
				locator1 = "LexiconTable#TABLE_ENTRY_TITLE_LINK",
				value1 = "WC Title 1");

			AssertTextEquals(
				key_tableEntry = "WC Title 2",
				locator1 = "LexiconTable#TABLE_ENTRY_TITLE_LINK",
				value1 = "WC Title 2");
		}
	}

	@description = "When the user selects one or more authors in the item selector, the list of contents displays content where the selected users are the creators"
	@priority = "5"
	test ShowAllContentsCreatedByUsers {
		property custom.properties = "jsonws.web.service.paths.excludes=";
		property portal.acceptance = "true";

		task ("Create and configure second user") {
			JSONUser.addUser(
				userEmailAddress = "userea@liferay.com",
				userFirstName = "userfn",
				userLastName = "userln",
				userScreenName = "usersn");

			JSONUser.setFirstPassword(
				agreeToTermsAndAnswerReminderQuery = "true",
				requireReset = "false",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Assign site role to user") {
			JSONUser.addUserToSite(
				groupName = "Test Site Name",
				userEmailAddress = "userea@liferay.com");

			JSONRole.assignSiteRoleToUser(
				groupName = "Test Site Name",
				roleTitle = "Site Owner",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Create a Web Content authored by Test Test") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "WC Title 1");
		}

		task ("Change to second user") {
			User.logoutAndLoginPG(
				userLoginEmailAddress = "userea@liferay.com",
				userLoginFullName = "userfn userln");
		}

		task ("Create a Web Content authored by userfn userln") {

			// WC content was not being created using JSONWebcontent.addWebContent . Refactor in the future

			WebContentNavigator.openWebContentAdmin(siteURLKey = "test-site-name");

			WebContentNavigator.gotoAddCP();

			WebContent.addCP(
				webContentContent = "WC Content",
				webContentTitle = "WC Title 2");

			PortletEntry.publish();
		}

		task ("Login with Admin user") {
			User.logoutAndLoginPG(
				userLoginEmailAddress = "test@liferay.com",
				userLoginFullName = "Test Test");
		}

		task ("Navigate to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Filter by both authors and assert both assets are displayed") {
			ContentDashboard.filterByAuthor(authorNameList = "Test,userfn");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "WC Title 2");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "WC Title 1");
		}
	}

	@description = "LPS-133181 When the user selects the option Filter by Author: Me in the 'Filter and Order' dropdown, the list of contents displays content where the user is the creator"
	@priority = "5"
	test ShowOnlyContentCreatedByUser {
		property custom.properties = "jsonws.web.service.paths.excludes=";
		property portal.acceptance = "true";

		task ("Create and configure second user") {
			JSONUser.addUser(
				userEmailAddress = "userea@liferay.com",
				userFirstName = "userfn",
				userLastName = "userln",
				userScreenName = "usersn");

			JSONUser.setFirstPassword(
				agreeToTermsAndAnswerReminderQuery = "true",
				requireReset = "false",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Assign site role to user") {
			JSONUser.addUserToSite(
				groupName = "Test Site Name",
				userEmailAddress = "userea@liferay.com");

			JSONRole.assignSiteRoleToUser(
				groupName = "Test Site Name",
				roleTitle = "Site Owner",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Create First WC via JSON") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "WC Title 1");
		}

		task ("Change to second user") {
			User.logoutAndLoginPG(
				userLoginEmailAddress = "userea@liferay.com",
				userLoginFullName = "userfn userln");
		}

		task ("Add a Web Content using second user") {

			// WC content was not being created using JSONWebcontent.addWebContent . Refactor in the future

			WebContentNavigator.openWebContentAdmin(siteURLKey = "test-site-name");

			WebContentNavigator.gotoAddCP();

			WebContent.addCP(
				webContentContent = "WC Content",
				webContentTitle = "WC Title 2");

			PortletEntry.publish();
		}

		task ("Edit Web Content created by Test user") {
			WebContentNavigator.openWebContentAdmin(siteURLKey = "test-site-name");

			WebContentNavigator.gotoEditCP(webContentTitle = "WC Title 1");

			WebContent.editCP(
				webContentTitle = "WC Title 1",
				webContentTitleEdit = "WC Title Edit");
		}

		task ("Login with Admin user") {
			User.logoutAndLoginPG(
				userLoginEmailAddress = "test@liferay.com",
				userLoginFullName = "Test Test");
		}

		task ("Navigate to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Filter by author Me and assert asset displayed") {
			ContentDashboard.filterByAuthor(authorNameList = "userfn");

			AssertTextPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "WC Title 2");

			AssertTextNotPresent(
				locator1 = "ContentDashboard#FIRST_ELEMENT_LISTED",
				value1 = "WC Title Edit");
		}
	}

	@description = "LPS-131187 Given the Content Dashboard table
	When a document is added
	Then its type will be shown in the Type column"
	@priority = "3"
	test TypeColumnForDocument {
		property osgi.module.configuration.file.names = "com.liferay.content.dashboard.web.internal.configuration.FFContentDashboardDocumentConfiguration.config";
		property osgi.module.configurations = "enabled=B\"true\"";

		task ("Create document via JSON") {
			task ("Create a new Document") {
				JSONDocument.addFile(
					dmDocumentDescription = "DM Document Description",
					dmDocumentTitle = "DM Document Title",
					groupName = "Test Site Name");
			}
		}

		task ("Go to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Assert the type of the web content is shown in the Type column") {
			AssertTextPresent(
				locator1 = "ContentDashboard#TYPE_COLUMN_VALUE",
				value1 = "Document");
		}
	}

	@description = "LPS-131187 Given the Content Dashboard table
	When a web content is added
	Then its type will be shown in the Type column"
	@priority = "3"
	test TypeColumnForWebContent {
		task ("Create WC via JSON") {
			JSONWebcontent.addWebContent(
				content = "WC WebContent Content",
				groupName = "Test Site Name",
				title = "WC WebContent Title");
		}

		task ("Go to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Assert the type of the web content is shown in the Type column") {
			AssertTextPresent(
				locator1 = "ContentDashboard#TYPE_COLUMN_VALUE",
				value1 = "Web Content Article");
		}
	}

	@description = "LPS-122873 When the user uncheck any checkbox from the vocab2, the relative ordering of the categories remain the same"
	@priority = "3"
	test UncheckACategoryInTheContentPanel {
		task ("Create a list of Audience Categories") {
			var audienceId1 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Subaudience_1",
				vocabularyName = "Audience");
			var audienceId2 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Subaudience_2",
				vocabularyName = "Audience");
			var audienceId3 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Subaudience_3",
				vocabularyName = "Audience");
		}

		task ("Create a list of Stage Categories") {
			var stageId1 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Substage_1",
				vocabularyName = "Stage");
			var stageId2 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Substage_2",
				vocabularyName = "Stage");
			var stageId3 = JSONCategory.addCategory(
				groupName = "Global",
				title = "Substage_3",
				vocabularyName = "Stage");
		}

		task ("Create a Web Content with the categories") {
			JSONWebcontent.addWebContent(
				assetCategoryIds = "${audienceId1},${audienceId2},${audienceId3},${stageId1},${stageId2},${stageId3}",
				content = "Webcontent Content",
				groupName = "Test Site Name",
				title = "Webcontent Title");
		}

		task ("Navigate to content Dashboard, uncheck a vocabulary category 2 and see the order of categories") {
			ContentDashboard.goToContentDashboard();

			Click.javaScriptClick(
				checkboxName = "Substage_2",
				locator1 = "Checkbox#ANY_CHECKBOX");

			task ("blue - first position") {
				AssertVisible(
					fillColor = "4B9FFF",
					locator1 = "ContentDashboard#BAR_FROM_NO_VOCABULARY_SPECIFIED");
			}

			task ("orange - second position") {
				AssertElementNotPresent(
					fillColor = "FFB46E",
					locator1 = "ContentDashboard#BAR_FROM_NO_VOCABULARY_SPECIFIED");
			}

			task ("red - third position") {
				AssertVisible(
					fillColor = "FF5F5F",
					locator1 = "ContentDashboard#BAR_FROM_NO_VOCABULARY_SPECIFIED");
			}
		}
	}

	@description = "LPS-162823: Add the View Action to the Version History for Documents and Media"
	@priority = "3"
	test ViewDocumentVersion {
		property custom.properties = "feature.flag.LPS-162924=true";

		task ("Given the Versions tab in the Info panel of a document") {
			task ("Create a Document") {
				JSONDocument.addFileWithUploadedFile(
					dmDocumentDescription = "DM Document Description",
					dmDocumentTitle = "DM Document Title",
					groupName = "Test Site Name",
					mimeType = "text/plain",
					sourceFileName = "Document_1.txt");
			}

			task ("Add versions for the document") {
				DMNavigator.openDocumentsAndMediaAdmin(siteURLKey = "test-site-name");

				DMDocument.editCP(
					dmDocumentTitle = "DM Document Title",
					dmDocumentTitleEdit = "DM Document Title Edit 1",
					revision = "Minor",
					versioning = "true");
			}

			task ("Navigate to Content Dashboard") {
				ContentDashboard.goToContentDashboard();
			}

			task ("Open info panel sidebar") {
				LexiconTable.clickEllipsisItem(
					item = "Info",
					tableEntry = "DM Document Title Edit 1");
			}

			task ("Open versions tab") {
				ContentDashboard.openVersionsTab();
			}
		}

		task ("When the user opens the kebab menu of a version And the user clicks on the View action") {
			ContentDashboard.clickMenuOfVersion(
				item = "View",
				versionName = "Version 1.0");
		}

		task ("Then the user is redirected to the document page for that version") {
			AssertTextEquals(
				key_dmDocumentTitle = "DM Document Title (Version 1.0)",
				locator1 = "DocumentsAndMediaDocument#DOCUMENT_INFO_TITLE",
				value1 = "DM Document Title (Version 1.0)");
		}
	}

	@description = "LPS-151911 Bug: Content Dashboard shows error when displaying details of article whose authors has been deleted"
	@priority = "4"
	test ViewInfoPanelDeletedUser {
		property portal.acceptance = "true";

		task ("Create a new User") {
			JSONUser.addUser(
				userEmailAddress = "userea@liferay.com",
				userFirstName = "userfn",
				userLastName = "userln",
				userScreenName = "usersn");

			JSONUser.setFirstPassword(
				agreeToTermsAndAnswerReminderQuery = "true",
				newPassword = "test",
				requireReset = "false",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Assign the new user to a site") {
			JSONUser.addUserToSite(
				groupName = "Test Site Name",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Assign the Site Administrator to new user") {
			JSONRole.assignSiteRoleToUser(
				groupName = "Test Site Name",
				roleTitle = "Site Administrator",
				userEmailAddress = "userea@liferay.com");
		}

		task ("Create a web content with created user via JSONWS") {
			User.logoutAndLoginPG(
				userLoginEmailAddress = "userea@liferay.com",
				userLoginFullName = "userfn userln");

			WebContentNavigator.openWebContentAdmin(siteURLKey = "test-site-name");

			WebContentNavigator.gotoAddCP();

			WebContent.addCP(
				webContentContent = "WC Content Content",
				webContentTitle = "Web Content Title");

			PortletEntry.publish();
		}

		task ("Login with Test user once more") {
			User.logoutAndLoginPG(
				userLoginEmailAddress = "test@liferay.com",
				userLoginFullName = "Test Test");
		}

		task ("Delete the user created") {
			JSONUser.deleteUserByEmailAddress(userEmailAddress = "userea@liferay.com");
		}

		task ("Natigate to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Check the info panel of the asset") {
			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "Web Content Title");

			AssertTextPresent(
				locator1 = "ContentDashboard#INFO_PANEL_TITLE",
				value1 = "Web Content Title");
		}
	}

	@description = "LPS-161544 Given the Version History page for Web Contents
	When the user clicks on back
	Then the Web Content is selected and the Info Panel is open to the Versions tab"
	@priority = "4"
	test ViewMoreWCVersionsBackButton {
		property custom.properties = "feature.flag.LPS-162924=true";

		task ("Create Web Content") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "WC Title 1");
		}

		task ("Edit Web Content 10 times") {
			WebContentNavigator.openWebContentAdmin(siteURLKey = "test-site-name");

			for (var count : list "1,2,3,4,5,6,7,8,9,10,11") {
				WebContentNavigator.gotoEditCP(webContentTitle = "WC Title 1");

				WebContent.editCP(
					webContentTitle = "WC Title 1",
					webContentTitleEdit = "WC Title 1");
			}
		}

		task ("Go to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Open the info panel and go to the versions tab") {
			ContentDashboard.clickQuickActionIcon(iconName = "Info");

			ContentDashboard.openVersionsTab();
		}

		task ("Click on View more and check the user is redirected to the Version History page") {
			Click(
				key_text = "View More",
				locator1 = "Button#ANY");

			ControlMenu.viewHeaderTitle(headerTitle = "WC Title 1");
		}

		task ("Click on back and check the user is redirected to the Content Dashboard and the info panel is opened in the Versions tab") {
			Navigator.gotoBack();

			AssertElementPresent(
				key_text = "View More",
				locator1 = "Button#ANY");
		}
	}

	@description = "LPS-116840 When the user clicks on the view icon of a content with an associated display page, the user is led to the view mode of the page"
	@priority = "5"
	test WebContentIconView {
		property portal.acceptance = "true";

		task ("Create a default Display Page Template") {
			JSONLayoutpagetemplate.addDisplayPageTemplateEntry(
				contentType = "Web Content Article",
				displayPageTemplateEntryName = "Display Page Name",
				groupName = "Test Site Name",
				statusKey = "APPROVED",
				subType = "Basic Web Content");

			JSONLayoutpagetemplate.setLayoutPageTemplateEntryAsDefault(
				groupName = "Test Site Name",
				layoutPageTemplateEntryName = "Display Page Name",
				type = "Display Page Template");
		}

		task ("Add Web Content and check it in its display page and access the view") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "WC");
		}

		task ("Add a Heading fragment to display page template") {
			DisplayPageTemplatesAdmin.openDisplayPagesAdmin(siteURLKey = "test-site-name");

			DisplayPageTemplatesAdmin.gotoDisplayPage(displayPageName = "Display Page Name");

			PageEditor.addFragment(
				collectionName = "Basic Components",
				fragmentName = "Heading");
		}

		task ("Map custom field to editable field of Heading") {
			PageEditorMapping.mapEditableTextToField(
				field = "Title",
				fragmentName = "Heading",
				id = "element-text");

			PageEditor.publish();
		}

		task ("Click at view icon at Content Dashboard") {
			ContentDashboard.goToContentDashboard();

			ContentDashboard.clickQuickActionIcon(iconName = "View");
		}

		task ("Assert the View Mode") {
			ContentPages.viewFragmentText(
				fragmentName = "heading",
				id = "element-text",
				text = "WC");
		}
	}

	@description = "LPS-151065 Given a Web Content asset using a Web Content Structure
    When the user opens Info Panel at Content Dashboard
    Then 'Web Content Article -' and structure's name text will be exhibit"
	@priority = "3"
	test WebContentStructureTypeInInfoPanel {
		task ("Create a web content structure") {
			WebContentNavigator.openWebContentAdmin(siteURLKey = "test-site-name");

			NavItem.gotoStructures();

			WebContentStructures.addCP(structureName = "WC Structure Name");

			DataEngine.addField(
				fieldFieldLabel = "Text",
				fieldName = "Text");

			WebContentStructures.saveCP();
		}

		task ("Create a web content based on the structure created") {
			NavItem.click(navItem = "Web Content");

			WebContentNavigator.gotoAddWithStructureCP(structureName = "WC Structure Name");

			WebContent.addWithStructureCP(
				webContentText = "Web Content Content",
				webContentTitle = "Web Content Title");

			PortletEntry.publish();
		}

		task ("Navigate to Content Dashbaord") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Go to Content Dashboard and check the type in the Info panel") {
			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "Web Content Title");

			AssertTextPresent(
				locator1 = "ContentDashboard#INFO_PANEL_ASSET_TYPE",
				value1 = "Web Content Article - WC Structure Name");
		}
	}

	@description = "LPS-114912: Validate if the user can open de Info side panel of a web content"
	@priority = "5"
	test WebContentViewInfoPanel {
		property portal.acceptance = "true";

		task ("Create a web content") {
			JSONWebcontent.addWebContent(
				content = "WC Content",
				groupName = "Test Site Name",
				title = "WC Title");
		}

		task ("Go to Content Dashboard") {
			ContentDashboard.goToContentDashboard();
		}

		task ("Open the Info panel") {
			LexiconTable.clickEllipsisItem(
				item = "Info",
				tableEntry = "WC Title");

			AssertTextPresent(
				locator1 = "ContentDashboard#INFO_PANEL_TITLE",
				value1 = "WC Title");
		}
	}

}